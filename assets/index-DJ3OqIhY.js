var To=t=>{throw TypeError(t)};var Co=(t,e,n)=>e.has(t)||To("Cannot "+n);var Gt=(t,e,n)=>(Co(t,e,"read from private field"),n?n.call(t):e.get(t)),Ui=(t,e,n)=>e.has(t)?To("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Wi=(t,e,n,r)=>(Co(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const Io=!1;var ro=Array.isArray,Ju=Array.prototype.indexOf,io=Array.from,Ws=Object.defineProperty,Sn=Object.getOwnPropertyDescriptor,Ks=Object.getOwnPropertyDescriptors,tc=Object.prototype,ec=Array.prototype,ao=Object.getPrototypeOf,Ro=Object.isExtensible;function nc(t){return typeof t=="function"}const Xn=()=>{};function rc(t){return t()}function ei(t){for(var e=0;e<t.length;e++)t[e]()}const ce=2,Zs=4,Ii=8,Ri=16,Le=32,On=64,ni=128,Qt=256,ri=512,Ht=1024,ye=2048,tn=4096,ze=8192,zi=16384,Qs=32768,Di=65536,ic=1<<17,ac=1<<19,Js=1<<20,da=1<<21,ln=Symbol("$state"),tl=Symbol("legacy props"),oc=Symbol("");function el(t){return t===this.v}function sc(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function oo(t){return!sc(t,this.v)}function lc(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function uc(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function cc(t){throw new Error("https://svelte.dev/e/effect_orphan")}function fc(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function hc(){throw new Error("https://svelte.dev/e/hydration_failed")}function dc(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function vc(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function pc(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function mc(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Yn=!1,gc=!1;function _c(){Yn=!0}const so=1,lo=2,nl=4,yc=8,wc=16,xc=2,bc=8,Mc=4,kc=1,Ec=2,uo="[",co="[!",fo="]",ir={},Ut=Symbol(),Ac="http://www.w3.org/1999/xhtml";function rl(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let _t=null;function zo(t){_t=t}function xe(t,e=!1,n){var r=_t={p:_t,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};Yn&&!e&&(_t.l={s:null,u:null,r1:[],r2:lr(!1)}),po(()=>{r.d=!0})}function be(t){const e=_t;if(e!==null){t!==void 0&&(e.x=t);const o=e.e;if(o!==null){var n=ft,r=vt;e.e=null;try{for(var i=0;i<o.length;i++){var a=o[i];we(a.effect),oe(a.reaction),xr(a.fn)}}finally{we(n),oe(r)}}_t=e.p,e.m=!0}return t||{}}function wr(){return!Yn||_t!==null&&_t.l===null}function rn(t){if(typeof t!="object"||t===null||ln in t)return t;const e=ao(t);if(e!==tc&&e!==ec)return t;var n=new Map,r=ro(t),i=Be(0),a=vt,o=s=>{var u=vt;oe(a);var l=s();return oe(u),l};return r&&n.set("length",Be(t.length)),new Proxy(t,{defineProperty(s,u,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&vc();var c=n.get(u);return c===void 0?(c=o(()=>Be(l.value)),n.set(u,c)):G(c,o(()=>rn(l.value))),!0},deleteProperty(s,u){var l=n.get(u);if(l===void 0)u in s&&(n.set(u,o(()=>Be(Ut))),Ki(i));else{if(r&&typeof u=="string"){var c=n.get("length"),h=Number(u);Number.isInteger(h)&&h<c.v&&G(c,h)}G(l,Ut),Ki(i)}return!0},get(s,u,l){var d;if(u===ln)return t;var c=n.get(u),h=u in s;if(c===void 0&&(!h||(d=Sn(s,u))!=null&&d.writable)&&(c=o(()=>Be(rn(h?s[u]:Ut))),n.set(u,c)),c!==void 0){var f=m(c);return f===Ut?void 0:f}return Reflect.get(s,u,l)},getOwnPropertyDescriptor(s,u){var l=Reflect.getOwnPropertyDescriptor(s,u);if(l&&"value"in l){var c=n.get(u);c&&(l.value=m(c))}else if(l===void 0){var h=n.get(u),f=h==null?void 0:h.v;if(h!==void 0&&f!==Ut)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return l},has(s,u){var f;if(u===ln)return!0;var l=n.get(u),c=l!==void 0&&l.v!==Ut||Reflect.has(s,u);if(l!==void 0||ft!==null&&(!c||(f=Sn(s,u))!=null&&f.writable)){l===void 0&&(l=o(()=>Be(c?rn(s[u]):Ut)),n.set(u,l));var h=m(l);if(h===Ut)return!1}return c},set(s,u,l,c){var b;var h=n.get(u),f=u in s;if(r&&u==="length")for(var d=l;d<h.v;d+=1){var p=n.get(d+"");p!==void 0?G(p,Ut):d in s&&(p=o(()=>Be(Ut)),n.set(d+"",p))}h===void 0?(!f||(b=Sn(s,u))!=null&&b.writable)&&(h=o(()=>Be(void 0)),G(h,o(()=>rn(l))),n.set(u,h)):(f=h.v!==Ut,G(h,o(()=>rn(l))));var _=Reflect.getOwnPropertyDescriptor(s,u);if(_!=null&&_.set&&_.set.call(c,l),!f){if(r&&typeof u=="string"){var g=n.get("length"),y=Number(u);Number.isInteger(y)&&y>=g.v&&G(g,y+1)}Ki(i)}return!0},ownKeys(s){m(i);var u=Reflect.ownKeys(s).filter(h=>{var f=n.get(h);return f===void 0||f.v!==Ut});for(var[l,c]of n)c.v!==Ut&&!(l in s)&&u.push(l);return u},setPrototypeOf(){pc()}})}function Ki(t,e=1){G(t,t.v+e)}function Li(t){var e=ce|ye,n=vt!==null&&(vt.f&ce)!==0?vt:null;return ft===null||n!==null&&(n.f&Qt)!==0?e|=Qt:ft.f|=Js,{ctx:_t,deps:null,effects:null,equals:el,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:n??ft}}function jn(t){const e=Li(t);return e.equals=oo,e}function il(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)Qe(e[n])}}function Sc(t){for(var e=t.parent;e!==null;){if((e.f&ce)===0)return e;e=e.parent}return null}function al(t){var e,n=ft;we(Sc(t));try{il(t),e=Ml(t)}finally{we(n)}return e}function ol(t){var e=al(t),n=(Ge||(t.f&Qt)!==0)&&t.deps!==null?tn:Ht;se(t,n),t.equals(e)||(t.v=e,t.wv=xl())}const sr=new Map;function lr(t,e){var n={f:0,v:t,reactions:null,equals:el,rv:0,wv:0};return n}function Be(t,e){const n=lr(t);return Dc(n),n}function J(t,e=!1){var r;const n=lr(t);return e||(n.equals=oo),Yn&&_t!==null&&_t.l!==null&&((r=_t.l).s??(r.s=[])).push(n),n}function an(t,e){return G(t,Me(()=>m(t))),e}function G(t,e,n=!1){vt!==null&&!de&&wr()&&(vt.f&(ce|Ri))!==0&&!(jt!=null&&jt.includes(t))&&mc();let r=n?rn(e):e;return va(t,r)}function va(t,e){if(!t.equals(e)){var n=t.v;br?sr.set(t,e):sr.set(t,n),t.v=e,(t.f&ce)!==0&&((t.f&ye)!==0&&al(t),se(t,(t.f&Qt)===0?Ht:tn)),t.wv=xl(),sl(t,ye),wr()&&ft!==null&&(ft.f&Ht)!==0&&(ft.f&(Le|On))===0&&(ne===null?Lc([t]):ne.push(t))}return e}function sl(t,e){var n=t.reactions;if(n!==null)for(var r=wr(),i=n.length,a=0;a<i;a++){var o=n[a],s=o.f;(s&ye)===0&&(!r&&o===ft||(se(o,e),(s&(Ht|Qt))!==0&&((s&ce)!==0?sl(o,tn):ji(o))))}}function ho(t){console.warn("https://svelte.dev/e/hydration_mismatch")}let ut=!1;function Te(t){ut=t}let dt;function ae(t){if(t===null)throw ho(),ir;return dt=t}function Fi(){return ae(Fe(dt))}function F(t){if(ut){if(Fe(dt)!==null)throw ho(),ir;dt=t}}function vo(t=1){if(ut){for(var e=t,n=dt;e--;)n=Fe(n);dt=n}}function pa(){for(var t=0,e=dt;;){if(e.nodeType===8){var n=e.data;if(n===fo){if(t===0)return e;t-=1}else(n===uo||n===co)&&(t+=1)}var r=Fe(e);e.remove(),e=r}}var Do,ll,ul,cl;function ma(){if(Do===void 0){Do=window,ll=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;ul=Sn(e,"firstChild").get,cl=Sn(e,"nextSibling").get,Ro(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Ro(n)&&(n.__t=void 0)}}function Ze(t=""){return document.createTextNode(t)}function fn(t){return ul.call(t)}function Fe(t){return cl.call(t)}function O(t,e){if(!ut)return fn(t);var n=fn(dt);if(n===null)n=dt.appendChild(Ze());else if(e&&n.nodeType!==3){var r=Ze();return n==null||n.before(r),ae(r),r}return ae(n),n}function ur(t,e){if(!ut){var n=fn(t);return n instanceof Comment&&n.data===""?Fe(n):n}return dt}function Y(t,e=1,n=!1){let r=ut?dt:t;for(var i;e--;)i=r,r=Fe(r);if(!ut)return r;var a=r==null?void 0:r.nodeType;if(n&&a!==3){var o=Ze();return r===null?i==null||i.after(o):r.before(o),ae(o),o}return ae(r),r}function fl(t){t.textContent=""}function hl(t){ft===null&&vt===null&&cc(),vt!==null&&(vt.f&Qt)!==0&&ft===null&&uc(),br&&lc()}function Nc(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Hn(t,e,n,r=!0){var i=ft,a={ctx:_t,deps:null,nodes_start:null,nodes_end:null,f:t|ye,first:null,fn:e,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(n)try{Yi(a),a.f|=Qs}catch(u){throw Qe(a),u}else e!==null&&ji(a);var o=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(Js|ni))===0;if(!o&&r&&(i!==null&&Nc(a,i),vt!==null&&(vt.f&ce)!==0)){var s=vt;(s.effects??(s.effects=[])).push(a)}return a}function po(t){const e=Hn(Ii,null,!1);return se(e,Ht),e.teardown=t,e}function ga(t){hl();var e=ft!==null&&(ft.f&Le)!==0&&_t!==null&&!_t.m;if(e){var n=_t;(n.e??(n.e=[])).push({fn:t,effect:ft,reaction:vt})}else{var r=xr(t);return r}}function $c(t){return hl(),gn(t)}function Pc(t){const e=Hn(On,t,!0);return(n={})=>new Promise(r=>{n.outro?ai(e,()=>{Qe(e),r(void 0)}):(Qe(e),r(void 0))})}function xr(t){return Hn(Zs,t,!1)}function ii(t,e){var n=_t,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=gn(()=>{t(),!r.ran&&(r.ran=!0,G(n.l.r2,!0),Me(e))})}function mo(){var t=_t;gn(()=>{if(m(t.l.r2)){for(var e of t.l.r1){var n=e.effect;(n.f&Ht)!==0&&se(n,tn),Bn(n)&&Yi(n),e.ran=!1}t.l.r2.v=!1}})}function gn(t){return Hn(Ii,t,!0)}function Dt(t,e=[],n=Li){const r=e.map(n);return go(()=>t(...r.map(m)))}function go(t,e=0){return Hn(Ii|Ri|e,t,!0)}function cr(t,e=!0){return Hn(Ii|Le,t,!0,e)}function dl(t){var e=t.teardown;if(e!==null){const n=br,r=vt;Lo(!0),oe(null);try{e.call(null)}finally{Lo(n),oe(r)}}}function vl(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;(n.f&On)!==0?n.parent=null:Qe(n,e),n=r}}function Tc(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Le)===0&&Qe(e),e=n}}function Qe(t,e=!0){var n=!1;(e||(t.f&ac)!==0)&&t.nodes_start!==null&&(Cc(t.nodes_start,t.nodes_end),n=!0),vl(t,e&&!n),ci(t,0),se(t,zi);var r=t.transitions;if(r!==null)for(const a of r)a.stop();dl(t);var i=t.parent;i!==null&&i.first!==null&&pl(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Cc(t,e){for(;t!==null;){var n=t===e?null:Fe(t);t.remove(),t=n}}function pl(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function ai(t,e){var n=[];_o(t,n,!0),ml(n,()=>{Qe(t),e&&e()})}function ml(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function _o(t,e,n){if((t.f&ze)===0){if(t.f^=ze,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var i=r.next,a=(r.f&Di)!==0||(r.f&Le)!==0;_o(r,e,a?n:!1),r=i}}}function oi(t){gl(t,!0)}function gl(t,e){if((t.f&ze)!==0){t.f^=ze,(t.f&Ht)===0&&(t.f^=Ht),Bn(t)&&(se(t,ye),ji(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&Di)!==0||(n.f&Le)!==0;gl(n,i?e:!1),n=r}if(t.transitions!==null)for(const a of t.transitions)(a.is_global||e)&&a.in()}}const Ic=typeof requestIdleCallback>"u"?t=>setTimeout(t,1):requestIdleCallback;let fr=[],hr=[];function _l(){var t=fr;fr=[],ei(t)}function yl(){var t=hr;hr=[],ei(t)}function qi(t){fr.length===0&&queueMicrotask(_l),fr.push(t)}function Rc(t){hr.length===0&&Ic(yl),hr.push(t)}function zc(){fr.length>0&&_l(),hr.length>0&&yl()}let Xr=!1,si=!1,li=null,un=!1,br=!1;function Lo(t){br=t}let ar=[];let vt=null,de=!1;function oe(t){vt=t}let ft=null;function we(t){ft=t}let jt=null;function Dc(t){vt!==null&&vt.f&da&&(jt===null?jt=[t]:jt.push(t))}let Ft=null,Kt=0,ne=null;function Lc(t){ne=t}let wl=1,ui=0,Ge=!1;function xl(){return++wl}function Bn(t){var h;var e=t.f;if((e&ye)!==0)return!0;if((e&tn)!==0){var n=t.deps,r=(e&Qt)!==0;if(n!==null){var i,a,o=(e&ri)!==0,s=r&&ft!==null&&!Ge,u=n.length;if(o||s){var l=t,c=l.parent;for(i=0;i<u;i++)a=n[i],(o||!((h=a==null?void 0:a.reactions)!=null&&h.includes(l)))&&(a.reactions??(a.reactions=[])).push(l);o&&(l.f^=ri),s&&c!==null&&(c.f&Qt)===0&&(l.f^=Qt)}for(i=0;i<u;i++)if(a=n[i],Bn(a)&&ol(a),a.wv>t.wv)return!0}(!r||ft!==null&&!Ge)&&se(t,Ht)}return!1}function Fc(t,e){for(var n=e;n!==null;){if((n.f&ni)!==0)try{n.fn(t);return}catch{n.f^=ni}n=n.parent}throw Xr=!1,t}function Fo(t){return(t.f&zi)===0&&(t.parent===null||(t.parent.f&ni)===0)}function Oi(t,e,n,r){if(Xr){if(n===null&&(Xr=!1),Fo(e))throw t;return}if(n!==null&&(Xr=!0),Fc(t,e),Fo(e))throw t}function bl(t,e,n=!0){var r=t.reactions;if(r!==null)for(var i=0;i<r.length;i++){var a=r[i];jt!=null&&jt.includes(t)||((a.f&ce)!==0?bl(a,e,!1):e===a&&(n?se(a,ye):(a.f&Ht)!==0&&se(a,tn),ji(a)))}}function Ml(t){var d;var e=Ft,n=Kt,r=ne,i=vt,a=Ge,o=jt,s=_t,u=de,l=t.f;Ft=null,Kt=0,ne=null,Ge=(l&Qt)!==0&&(de||!un||vt===null),vt=(l&(Le|On))===0?t:null,jt=null,zo(t.ctx),de=!1,ui++,t.f|=da;try{var c=(0,t.fn)(),h=t.deps;if(Ft!==null){var f;if(ci(t,Kt),h!==null&&Kt>0)for(h.length=Kt+Ft.length,f=0;f<Ft.length;f++)h[Kt+f]=Ft[f];else t.deps=h=Ft;if(!Ge)for(f=Kt;f<h.length;f++)((d=h[f]).reactions??(d.reactions=[])).push(t)}else h!==null&&Kt<h.length&&(ci(t,Kt),h.length=Kt);if(wr()&&ne!==null&&!de&&h!==null&&(t.f&(ce|tn|ye))===0)for(f=0;f<ne.length;f++)bl(ne[f],t);return i!==null&&i!==t&&(ui++,ne!==null&&(r===null?r=ne:r.push(...ne))),c}finally{Ft=e,Kt=n,ne=r,vt=i,Ge=a,jt=o,zo(s),de=u,t.f^=da}}function qc(t,e){let n=e.reactions;if(n!==null){var r=Ju.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&ce)!==0&&(Ft===null||!Ft.includes(e))&&(se(e,tn),(e.f&(Qt|ri))===0&&(e.f^=ri),il(e),ci(e,0))}function ci(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)qc(t,n[r])}function Yi(t){var e=t.f;if((e&zi)===0){se(t,Ht);var n=ft,r=_t,i=un;ft=t,un=!0;try{(e&Ri)!==0?Tc(t):vl(t),dl(t);var a=Ml(t);t.teardown=typeof a=="function"?a:null,t.wv=wl;var o=t.deps,s;Io&&gc&&t.f&ye}catch(u){Oi(u,t,n,r||t.ctx)}finally{un=i,ft=n}}}function Oc(){try{fc()}catch(t){if(li!==null)Oi(t,li,null);else throw t}}function kl(){var t=un;try{var e=0;for(un=!0;ar.length>0;){e++>1e3&&Oc();var n=ar,r=n.length;ar=[];for(var i=0;i<r;i++){var a=jc(n[i]);Yc(a)}sr.clear()}}finally{si=!1,un=t,li=null}}function Yc(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];if((r.f&(zi|ze))===0)try{Bn(r)&&(Yi(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?pl(r):r.fn=null))}catch(i){Oi(i,r,null,r.ctx)}}}function ji(t){si||(si=!0,queueMicrotask(kl));for(var e=li=t;e.parent!==null;){e=e.parent;var n=e.f;if((n&(On|Le))!==0){if((n&Ht)===0)return;e.f^=Ht}}ar.push(e)}function jc(t){for(var e=[],n=t;n!==null;){var r=n.f,i=(r&(Le|On))!==0,a=i&&(r&Ht)!==0;if(!a&&(r&ze)===0){if((r&Zs)!==0)e.push(n);else if(i)n.f^=Ht;else try{Bn(n)&&Yi(n)}catch(u){Oi(u,n,null,n.ctx)}var o=n.first;if(o!==null){n=o;continue}}var s=n.parent;for(n=n.next;n===null&&s!==null;)n=s.next,s=s.parent}return e}function Ce(t){for(var e;;){if(zc(),ar.length===0)return e;si=!0,kl()}}function m(t){var e=t.f,n=(e&ce)!==0;if(vt!==null&&!de){if(!(jt!=null&&jt.includes(t))){var r=vt.deps;t.rv<ui&&(t.rv=ui,Ft===null&&r!==null&&r[Kt]===t?Kt++:Ft===null?Ft=[t]:(!Ge||!Ft.includes(t))&&Ft.push(t))}}else if(n&&t.deps===null&&t.effects===null){var i=t,a=i.parent;a!==null&&(a.f&Qt)===0&&(i.f^=Qt)}return n&&(i=t,Bn(i)&&ol(i)),br&&sr.has(t)?sr.get(t):t.v}function Me(t){var e=de;try{return de=!0,t()}finally{de=e}}const Hc=-7169;function se(t,e){t.f=t.f&Hc|e}function Vr(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(ln in t)_a(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&ln in n&&_a(n)}}}function _a(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{_a(t[r],e)}catch{}const n=ao(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ks(n);for(let i in r){const a=r[i].get;if(a)try{a.call(t)}catch{}}}}}const Bc=["touchstart","touchmove"];function Xc(t){return Bc.includes(t)}let qo=!1;function El(){qo||(qo=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function Hi(t){var e=vt,n=ft;oe(null),we(null);try{return t()}finally{oe(e),we(n)}}function Al(t,e,n,r=n){t.addEventListener(e,()=>Hi(n));const i=t.__on_r;i?t.__on_r=()=>{i(),r(!0)}:t.__on_r=()=>r(!0),El()}const Vc=new Set,Oo=new Set;function Gc(t,e,n,r={}){function i(a){if(r.capture||Un.call(e,a),!a.cancelBubble)return Hi(()=>n==null?void 0:n.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?qi(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function wt(t,e,n,r,i){var a={capture:r,passive:i},o=Gc(t,e,n,a);(e===document.body||e===window||e===document)&&po(()=>{e.removeEventListener(t,o,a)})}function Un(t){var b;var e=this,n=e.ownerDocument,r=t.type,i=((b=t.composedPath)==null?void 0:b.call(t))||[],a=i[0]||t.target,o=0,s=t.__root;if(s){var u=i.indexOf(s);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var l=i.indexOf(e);if(l===-1)return;u<=l&&(o=u)}if(a=i[o]||t.target,a!==e){Ws(t,"currentTarget",{configurable:!0,get(){return a||n}});var c=vt,h=ft;oe(null),we(null);try{for(var f,d=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var _=a["__"+r];if(_!=null&&(!a.disabled||t.target===a))if(ro(_)){var[g,...y]=_;g.apply(a,[t,...y])}else _.call(a,t)}catch(E){f?d.push(E):f=E}if(t.cancelBubble||p===e||p===null)break;a=p}if(f){for(let E of d)queueMicrotask(()=>{throw E});throw f}}finally{t.__root=e,delete t.currentTarget,oe(c),we(h)}}}function Uc(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function We(t,e){var n=ft;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function Tt(t,e){var n=(e&kc)!==0,r=(e&Ec)!==0,i,a=!t.startsWith("<!>");return()=>{if(ut)return We(dt,null),dt;i===void 0&&(i=Uc(a?t:"<!>"+t),n||(i=fn(i)));var o=r||ll?document.importNode(i,!0):i.cloneNode(!0);if(n){var s=fn(o),u=o.lastChild;We(s,u)}else We(o,o);return o}}function Yo(t=""){if(!ut){var e=Ze(t+"");return We(e,e),e}var n=dt;return n.nodeType!==3&&(n.before(n=Ze()),ae(n)),We(n,n),n}function jo(){if(ut)return We(dt,null),dt;var t=document.createDocumentFragment(),e=document.createComment(""),n=Ze();return t.append(e,n),We(e,n),t}function bt(t,e){if(ut){ft.nodes_end=dt,Fi();return}t!==null&&t.before(e)}let ya=!0;function yt(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function yo(t,e){return Sl(t,e)}function Wc(t,e){ma(),e.intro=e.intro??!1;const n=e.target,r=ut,i=dt;try{for(var a=fn(n);a&&(a.nodeType!==8||a.data!==uo);)a=Fe(a);if(!a)throw ir;Te(!0),ae(a),Fi();const o=Sl(t,{...e,anchor:a});if(dt===null||dt.nodeType!==8||dt.data!==fo)throw ho(),ir;return Te(!1),o}catch(o){if(o===ir)return e.recover===!1&&hc(),ma(),fl(n),Te(!1),yo(t,e);throw o}finally{Te(r),ae(i)}}const xn=new Map;function Sl(t,{target:e,anchor:n,props:r={},events:i,context:a,intro:o=!0}){ma();var s=new Set,u=h=>{for(var f=0;f<h.length;f++){var d=h[f];if(!s.has(d)){s.add(d);var p=Xc(d);e.addEventListener(d,Un,{passive:p});var _=xn.get(d);_===void 0?(document.addEventListener(d,Un,{passive:p}),xn.set(d,1)):xn.set(d,_+1)}}};u(io(Vc)),Oo.add(u);var l=void 0,c=Pc(()=>{var h=n??e.appendChild(Ze());return cr(()=>{if(a){xe({});var f=_t;f.c=a}i&&(r.$$events=i),ut&&We(h,null),ya=o,l=t(h,r)||{},ya=!0,ut&&(ft.nodes_end=dt),a&&be()}),()=>{var p;for(var f of s){e.removeEventListener(f,Un);var d=xn.get(f);--d===0?(document.removeEventListener(f,Un),xn.delete(f)):xn.set(f,d)}Oo.delete(u),h!==n&&((p=h.parentNode)==null||p.removeChild(h))}});return wa.set(l,c),l}let wa=new WeakMap;function Kc(t,e){const n=wa.get(t);return n?(wa.delete(t),n(e)):Promise.resolve()}function Nn(t,e,[n,r]=[0,0]){ut&&n===0&&Fi();var i=t,a=null,o=null,s=Ut,u=n>0?Di:0,l=!1;const c=(f,d=!0)=>{l=!0,h(d,f)},h=(f,d)=>{if(s===(s=f))return;let p=!1;if(ut&&r!==-1){if(n===0){const g=i.data;g===uo?r=0:g===co?r=1/0:(r=parseInt(g.substring(1)),r!==r&&(r=s?1/0:-1))}const _=r>n;!!s===_&&(i=pa(),ae(i),Te(!1),p=!0,r=-1)}s?(a?oi(a):d&&(a=cr(()=>d(i))),o&&ai(o,()=>{o=null})):(o?oi(o):d&&(o=cr(()=>d(i,[n+1,r]))),a&&ai(a,()=>{a=null})),p&&Te(!0)};go(()=>{l=!1,e(c),l||h(null,null)},u),ut&&(i=dt)}function $n(t,e){return e}function Zc(t,e,n,r){for(var i=[],a=e.length,o=0;o<a;o++)_o(e[o].e,i,!0);var s=a>0&&i.length===0&&n!==null;if(s){var u=n.parentNode;fl(u),u.append(n),r.clear(),Xe(t,e[0].prev,e[a-1].next)}ml(i,()=>{for(var l=0;l<a;l++){var c=e[l];s||(r.delete(c.k),Xe(t,c.prev,c.next)),Qe(c.e,!s)}})}function Pn(t,e,n,r,i,a=null){var o=t,s={flags:e,items:new Map,first:null},u=(e&nl)!==0;if(u){var l=t;o=ut?ae(fn(l)):l.appendChild(Ze())}ut&&Fi();var c=null,h=!1,f=jn(()=>{var d=n();return ro(d)?d:d==null?[]:io(d)});go(()=>{var d=m(f),p=d.length;if(h&&p===0)return;h=p===0;let _=!1;if(ut){var g=o.data===co;g!==(p===0)&&(o=pa(),ae(o),Te(!1),_=!0)}if(ut){for(var y=null,b,E=0;E<p;E++){if(dt.nodeType===8&&dt.data===fo){o=dt,_=!0,Te(!1);break}var v=d[E],x=r(v,E);b=Nl(dt,s,y,null,v,x,E,i,e,n),s.items.set(x,b),y=b}p>0&&ae(pa())}ut||Qc(d,s,o,i,e,r,n),a!==null&&(p===0?c?oi(c):c=cr(()=>a(o)):c!==null&&ai(c,()=>{c=null})),_&&Te(!0),m(f)}),ut&&(o=dt)}function Qc(t,e,n,r,i,a,o){var w,M,k,C;var s=(i&yc)!==0,u=(i&(so|lo))!==0,l=t.length,c=e.items,h=e.first,f=h,d,p=null,_,g=[],y=[],b,E,v,x;if(s)for(x=0;x<l;x+=1)b=t[x],E=a(b,x),v=c.get(E),v!==void 0&&((w=v.a)==null||w.measure(),(_??(_=new Set)).add(v));for(x=0;x<l;x+=1){if(b=t[x],E=a(b,x),v=c.get(E),v===void 0){var P=f?f.e.nodes_start:n;p=Nl(P,e,p,p===null?e.first:p.next,b,E,x,r,i,o),c.set(E,p),g=[],y=[],f=p.next;continue}if(u&&Jc(v,b,x,i),(v.e.f&ze)!==0&&(oi(v.e),s&&((M=v.a)==null||M.unfix(),(_??(_=new Set)).delete(v))),v!==f){if(d!==void 0&&d.has(v)){if(g.length<y.length){var N=y[0],$;p=N.prev;var I=g[0],D=g[g.length-1];for($=0;$<g.length;$+=1)Ho(g[$],N,n);for($=0;$<y.length;$+=1)d.delete(y[$]);Xe(e,I.prev,D.next),Xe(e,p,I),Xe(e,D,N),f=N,p=D,x-=1,g=[],y=[]}else d.delete(v),Ho(v,f,n),Xe(e,v.prev,v.next),Xe(e,v,p===null?e.first:p.next),Xe(e,p,v),p=v;continue}for(g=[],y=[];f!==null&&f.k!==E;)(f.e.f&ze)===0&&(d??(d=new Set)).add(f),y.push(f),f=f.next;if(f===null)continue;v=f}g.push(v),p=v,f=v.next}if(f!==null||d!==void 0){for(var A=d===void 0?[]:io(d);f!==null;)(f.e.f&ze)===0&&A.push(f),f=f.next;var q=A.length;if(q>0){var j=(i&nl)!==0&&l===0?n:null;if(s){for(x=0;x<q;x+=1)(k=A[x].a)==null||k.measure();for(x=0;x<q;x+=1)(C=A[x].a)==null||C.fix()}Zc(e,A,j,c)}}s&&qi(()=>{var z;if(_!==void 0)for(v of _)(z=v.a)==null||z.apply()}),ft.first=e.first&&e.first.e,ft.last=p&&p.e}function Jc(t,e,n,r){(r&so)!==0&&va(t.v,e),(r&lo)!==0?va(t.i,n):t.i=n}function Nl(t,e,n,r,i,a,o,s,u,l){var c=(u&so)!==0,h=(u&wc)===0,f=c?h?J(i):lr(i):i,d=(u&lo)===0?o:lr(o),p={i:d,v:f,k:a,a:null,e:null,prev:n,next:r};try{return p.e=cr(()=>s(t,f,d,l),ut),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?e.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Ho(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,a=t.e.nodes_start;a!==r;){var o=Fe(a);i.before(a),a=o}}function Xe(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function $l(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$l(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function tf(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$l(t))&&(r&&(r+=" "),r+=e);return r}function ef(t){return typeof t=="object"?tf(t):t??""}function nf(t,e,n){var r=t==null?"":""+t;return r=r?r+" "+e:e,r===""?null:r}function rf(t,e){return t==null?null:String(t)}function af(t,e,n,r,i,a){var o=t.__className;if(ut||o!==n||o===void 0){var s=nf(n,r);(!ut||s!==t.getAttribute("class"))&&(s==null?t.removeAttribute("class"):t.className=s),t.__className=n}return a}function Bo(t,e,n,r){var i=t.__style;if(ut||i!==e){var a=rf(e);(!ut||a!==t.getAttribute("style"))&&(a==null?t.removeAttribute("style"):t.style.cssText=a),t.__style=e}return r}const of=Symbol("is custom element"),sf=Symbol("is html");function Ct(t){if(ut){var e=!1,n=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;Ot(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var i=t.checked;Ot(t,"checked",null),t.checked=i}}};t.__on_r=n,Rc(n),El()}}function Ot(t,e,n,r){var i=lf(t);ut&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=n)&&(e==="loading"&&(t[oc]=n),n==null?t.removeAttribute(e):typeof n!="string"&&uf(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function lf(t){return t.__attributes??(t.__attributes={[of]:t.nodeName.includes("-"),[sf]:t.namespaceURI===Ac})}var Xo=new Map;function uf(t){var e=Xo.get(t.nodeName);if(e)return e;Xo.set(t.nodeName,e=[]);for(var n,r=t,i=Element.prototype;i!==r;){n=Ks(r);for(var a in n)n[a].set&&e.push(a);r=ao(r)}return e}const cf=()=>performance.now(),$e={tick:t=>requestAnimationFrame(t),now:()=>cf(),tasks:new Set};function Pl(){const t=$e.now();$e.tasks.forEach(e=>{e.c(t)||($e.tasks.delete(e),e.f())}),$e.tasks.size!==0&&$e.tick(Pl)}function ff(t){let e;return $e.tasks.size===0&&$e.tick(Pl),{promise:new Promise(n=>{$e.tasks.add(e={c:t,f:n})}),abort(){$e.tasks.delete(e)}}}function Tr(t,e){Hi(()=>{t.dispatchEvent(new CustomEvent(e))})}function hf(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Vo(t){const e={},n=t.split(";");for(const r of n){const[i,a]=r.split(":");if(!i||a===void 0)break;const o=hf(i.trim());e[o]=a.trim()}return e}const df=t=>t;function vf(t,e,n,r){var i=(t&Mc)!==0,a="both",o,s=e.inert,u=e.style.overflow,l,c;function h(){var g=vt,y=ft;oe(null),we(null);try{return o??(o=n()(e,(r==null?void 0:r())??{},{direction:a}))}finally{oe(g),we(y)}}var f={is_global:i,in(){e.inert=s,Tr(e,"introstart"),l=xa(e,h(),c,1,()=>{Tr(e,"introend"),l==null||l.abort(),l=o=void 0,e.style.overflow=u})},out(g){e.inert=!0,Tr(e,"outrostart"),c=xa(e,h(),l,0,()=>{Tr(e,"outroend"),g==null||g()})},stop:()=>{l==null||l.abort(),c==null||c.abort()}},d=ft;if((d.transitions??(d.transitions=[])).push(f),ya){var p=i;if(!p){for(var _=d.parent;_&&(_.f&Di)!==0;)for(;(_=_.parent)&&(_.f&Ri)===0;);p=!_||(_.f&Qs)!==0}p&&xr(()=>{Me(()=>f.in())})}}function xa(t,e,n,r,i){var a=r===1;if(nc(e)){var o,s=!1;return qi(()=>{if(!s){var g=e({direction:a?"in":"out"});o=xa(t,g,n,r,i)}}),{abort:()=>{s=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(n==null||n.deactivate(),!(e!=null&&e.duration))return i(),{abort:Xn,deactivate:Xn,reset:Xn,t:()=>r};const{delay:u=0,css:l,tick:c,easing:h=df}=e;var f=[];if(a&&n===void 0&&(c&&c(0,1),l)){var d=Vo(l(0,1));f.push(d,d)}var p=()=>1-r,_=t.animate(f,{duration:u});return _.onfinish=()=>{var g=(n==null?void 0:n.t())??1-r;n==null||n.abort();var y=r-g,b=e.duration*Math.abs(y),E=[];if(b>0){var v=!1;if(l)for(var x=Math.ceil(b/16.666666666666668),P=0;P<=x;P+=1){var N=g+y*h(P/x),$=Vo(l(N,1-N));E.push($),v||(v=$.overflow==="hidden")}v&&(t.style.overflow="hidden"),p=()=>{var I=_.currentTime;return g+y*h(I/b)},c&&ff(()=>{if(_.playState!=="running")return!1;var I=p();return c(I,1-I),!0})}_=t.animate(E,{duration:b,fill:"forwards"}),_.onfinish=()=>{p=()=>r,c==null||c(r,1-r),i()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=Xn)},deactivate:()=>{i=Xn},reset:()=>{r===0&&(c==null||c(1,0))},t:()=>p()}}function Rt(t,e,n=e){var r=wr();Al(t,"input",i=>{var a=i?t.defaultValue:t.value;if(a=Zi(t)?Qi(a):a,n(a),r&&a!==(a=e())){var o=t.selectionStart,s=t.selectionEnd;t.value=a??"",s!==null&&(t.selectionStart=o,t.selectionEnd=Math.min(s,t.value.length))}}),(ut&&t.defaultValue!==t.value||Me(e)==null&&t.value)&&n(Zi(t)?Qi(t.value):t.value),gn(()=>{var i=e();Zi(t)&&i===Qi(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function pf(t,e,n=e){Al(t,"change",r=>{var i=r?t.defaultChecked:t.checked;n(i)}),(ut&&t.defaultChecked!==t.checked||Me(e)==null)&&n(t.checked),gn(()=>{var r=e();t.checked=!!r})}function Zi(t){var e=t.type;return e==="number"||e==="range"}function Qi(t){return t===""?null:+t}function Go(t,e){return t===e||(t==null?void 0:t[ln])===e}function me(t={},e,n,r){return xr(()=>{var i,a;return gn(()=>{i=a,a=[],Me(()=>{t!==n(...a)&&(e(t,...a),i&&Go(n(...i),t)&&e(null,...i))})}),()=>{qi(()=>{a&&Go(n(...a),t)&&e(null,...a)})}}),t}function mf(t,e,n=e){var r=t==="x",i=()=>Hi(()=>{a=!0,clearTimeout(o),o=setTimeout(s,100),n(window[r?"scrollX":"scrollY"])});addEventListener("scroll",i,{passive:!0});var a=!1,o,s=()=>{a=!1},u=!0;gn(()=>{var l=e();u?u=!1:!a&&l!=null&&(a=!0,clearTimeout(o),scrollTo(window.scrollX,l),o=setTimeout(s,100))}),xr(i),po(()=>{removeEventListener("scroll",i)})}function qe(t=!1){const e=_t,n=e.l.u;if(!n)return;let r=()=>Vr(e.s);if(t){let i=0,a={};const o=Li(()=>{let s=!1;const u=e.s;for(const l in u)u[l]!==a[l]&&(a[l]=u[l],s=!0);return s&&i++,i});r=()=>m(o)}n.b.length&&$c(()=>{Uo(e,r),ei(n.b)}),ga(()=>{const i=Me(()=>n.m.map(rc));return()=>{for(const a of i)typeof a=="function"&&a()}}),n.a.length&&ga(()=>{Uo(e,r),ei(n.a)})}function Uo(t,e){if(t.l.s)for(const n of t.l.s)m(n);e()}function Oe(t,e,n){var r;t.$$events||(t.$$events={}),(r=t.$$events)[e]||(r[e]=[]),t.$$events[e].push(n)}function Ye(t){for(var e in t)e in this&&(this[e]=t[e])}let Cr=!1;function gf(t){var e=Cr;try{return Cr=!1,[t(),Cr]}finally{Cr=e}}function Wo(t){var e;return((e=t.ctx)==null?void 0:e.d)??!1}function Ue(t,e,n,r){var v;var i=!Yn||(n&xc)!==0,a=(n&bc)!==0,o=!1,s;[s,o]=gf(()=>t[e]);var u=ln in t||tl in t,l=(((v=Sn(t,e))==null?void 0:v.set)??(u&&e in t&&(x=>t[e]=x)))||void 0,c=r,h=!0,f=!1,d=()=>(f=!0,h&&(h=!1,c=r),c);s===void 0&&r!==void 0&&(l&&i&&dc(),s=d(),l&&l(s));var p;if(i)p=()=>{var x=t[e];return x===void 0?d():(h=!0,f=!1,x)};else{var _=jn(()=>t[e]);_.f|=ic,p=()=>{var x=m(_);return x!==void 0&&(c=void 0),x===void 0?c:x}}if(l){var g=t.$$legacy;return function(x,P){return arguments.length>0?((!i||!P||g||o)&&l(P?p():x),x):p()}}var y=!1,b=J(s),E=Li(()=>{var x=p(),P=m(b);return y?(y=!1,P):b.v=x});return m(E),E.equals=oo,function(x,P){if(arguments.length>0){const N=P?m(E):i&&a?rn(x):x;if(!E.equals(N)){if(y=!0,G(b,N),f&&c!==void 0&&(c=N),Wo(E))return x;Me(()=>m(E))}return x}return Wo(E)?E.v:m(E)}}function je(t){return new _f(t)}var Ne,re;class _f{constructor(e){Ui(this,Ne);Ui(this,re);var a;var n=new Map,r=(o,s)=>{var u=J(s);return n.set(o,u),u};const i=new Proxy({...e.props||{},$$events:{}},{get(o,s){return m(n.get(s)??r(s,Reflect.get(o,s)))},has(o,s){return s===tl?!0:(m(n.get(s)??r(s,Reflect.get(o,s))),Reflect.has(o,s))},set(o,s,u){return G(n.get(s)??r(s,u),u),Reflect.set(o,s,u)}});Wi(this,re,(e.hydrate?Wc:yo)(e.component,{target:e.target,anchor:e.anchor,props:i,context:e.context,intro:e.intro??!1,recover:e.recover})),(!((a=e==null?void 0:e.props)!=null&&a.$$host)||e.sync===!1)&&Ce(),Wi(this,Ne,i.$$events);for(const o of Object.keys(Gt(this,re)))o==="$set"||o==="$destroy"||o==="$on"||Ws(this,o,{get(){return Gt(this,re)[o]},set(s){Gt(this,re)[o]=s},enumerable:!0});Gt(this,re).$set=o=>{Object.assign(i,o)},Gt(this,re).$destroy=()=>{Kc(Gt(this,re))}}$set(e){Gt(this,re).$set(e)}$on(e,n){Gt(this,Ne)[e]=Gt(this,Ne)[e]||[];const r=(...i)=>n.call(this,...i);return Gt(this,Ne)[e].push(r),()=>{Gt(this,Ne)[e]=Gt(this,Ne)[e].filter(i=>i!==r)}}$destroy(){Gt(this,re).$destroy()}}Ne=new WeakMap,re=new WeakMap;function ke(t){_t===null&&rl(),Yn&&_t.l!==null?wf(_t).m.push(t):ga(()=>{const e=Me(t);if(typeof e=="function")return e})}function yf(t){_t===null&&rl(),ke(()=>()=>Me(t))}function wf(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const xf="5";var Us;typeof window<"u"&&((Us=window.__svelte??(window.__svelte={})).v??(Us.v=new Set)).add(xf);_c();function Gr(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bf(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Tl(t){let e,n,r;t.length!==2?(e=Gr,n=(s,u)=>Gr(t(s),u),r=(s,u)=>t(s)-u):(e=t===Gr||t===bf?t:Mf,n=t,r=t);function i(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const h=l+c>>>1;n(s[h],u)<0?l=h+1:c=h}while(l<c)}return l}function a(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const h=l+c>>>1;n(s[h],u)<=0?l=h+1:c=h}while(l<c)}return l}function o(s,u,l=0,c=s.length){const h=i(s,u,l,c-1);return h>l&&r(s[h-1],u)>-r(s[h],u)?h-1:h}return{left:i,center:o,right:a}}function Mf(){return 0}function kf(t){return t===null?NaN:+t}const Ef=Tl(Gr),Af=Ef.right;Tl(kf).center;function Ir(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Je{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=e+a,s=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);s&&(n[r++]=s),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}class Ko extends Map{constructor(e,n=$f){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Zo(this,e))}has(e){return super.has(Zo(this,e))}set(e,n){return super.set(Sf(this,e),n)}delete(e){return super.delete(Nf(this,e))}}function Zo({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Sf({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Nf({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function $f(t){return t!==null&&typeof t=="object"?t.valueOf():t}const Pf=Math.sqrt(50),Tf=Math.sqrt(10),Cf=Math.sqrt(2);function fi(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Pf?10:a>=Tf?5:a>=Cf?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/o,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*o,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=n&&n<2?fi(t,e,n*2):[s,u,l]}function If(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?fi(e,t,n):fi(t,e,n);if(!(a>=i))return[];const s=a-i+1,u=new Array(s);if(r)if(o<0)for(let l=0;l<s;++l)u[l]=(a-l)/-o;else for(let l=0;l<s;++l)u[l]=(a-l)*o;else if(o<0)for(let l=0;l<s;++l)u[l]=(i+l)/-o;else for(let l=0;l<s;++l)u[l]=(i+l)*o;return u}function ba(t,e,n){return e=+e,t=+t,n=+n,fi(t,e,n)[2]}function Rf(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ba(e,t,n):ba(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Ma(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function*zf(t){for(const e of t)yield*e}function Cl(t){return Array.from(zf(t))}function ka(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Df(t){return t}var Ji=1,ta=2,Ea=3,Wn=4,Qo=1e-6;function Lf(t){return"translate("+t+",0)"}function Ff(t){return"translate(0,"+t+")"}function qf(t){return e=>+t(e)}function Of(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Yf(){return!this.__axis}function Il(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=t===Ji||t===Wn?-1:1,c=t===Wn||t===ta?"x":"y",h=t===Ji||t===Ea?Lf:Ff;function f(d){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):Df),g=Math.max(a,0)+s,y=e.range(),b=+y[0]+u,E=+y[y.length-1]+u,v=(e.bandwidth?Of:qf)(e.copy(),u),x=d.selection?d.selection():d,P=x.selectAll(".domain").data([null]),N=x.selectAll(".tick").data(p,e).order(),$=N.exit(),I=N.enter().append("g").attr("class","tick"),D=N.select("line"),A=N.select("text");P=P.merge(P.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),N=N.merge(I),D=D.merge(I.append("line").attr("stroke","currentColor").attr(c+"2",l*a)),A=A.merge(I.append("text").attr("fill","currentColor").attr(c,l*g).attr("dy",t===Ji?"0em":t===Ea?"0.71em":"0.32em")),d!==x&&(P=P.transition(d),N=N.transition(d),D=D.transition(d),A=A.transition(d),$=$.transition(d).attr("opacity",Qo).attr("transform",function(q){return isFinite(q=v(q))?h(q+u):this.getAttribute("transform")}),I.attr("opacity",Qo).attr("transform",function(q){var j=this.parentNode.__axis;return h((j&&isFinite(j=j(q))?j:v(q))+u)})),$.remove(),P.attr("d",t===Wn||t===ta?o?"M"+l*o+","+b+"H"+u+"V"+E+"H"+l*o:"M"+u+","+b+"V"+E:o?"M"+b+","+l*o+"V"+u+"H"+E+"V"+l*o:"M"+b+","+u+"H"+E),N.attr("opacity",1).attr("transform",function(q){return h(v(q)+u)}),D.attr(c+"2",l*a),A.attr(c,l*g).text(_),x.filter(Yf).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ta?"start":t===Wn?"end":"middle"),x.each(function(){this.__axis=v})}return f.scale=function(d){return arguments.length?(e=d,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),f):n.slice()},f.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),f):r&&r.slice()},f.tickFormat=function(d){return arguments.length?(i=d,f):i},f.tickSize=function(d){return arguments.length?(a=o=+d,f):a},f.tickSizeInner=function(d){return arguments.length?(a=+d,f):a},f.tickSizeOuter=function(d){return arguments.length?(o=+d,f):o},f.tickPadding=function(d){return arguments.length?(s=+d,f):s},f.offset=function(d){return arguments.length?(u=+d,f):u},f}function hi(t){return Il(Ea,t)}function di(t){return Il(Wn,t)}var jf={value:()=>{}};function Mr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ur(n)}function Ur(t){this._=t}function Hf(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ur.prototype=Mr.prototype={constructor:Ur,on:function(t,e){var n=this._,r=Hf(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=Bf(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=Jo(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Jo(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ur(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Bf(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Jo(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=jf,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Aa="http://www.w3.org/1999/xhtml";const ts={svg:"http://www.w3.org/2000/svg",xhtml:Aa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Bi(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ts.hasOwnProperty(e)?{space:ts[e],local:t}:t}function Xf(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Aa&&e.documentElement.namespaceURI===Aa?e.createElement(t):e.createElementNS(n,t)}}function Vf(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Rl(t){var e=Bi(t);return(e.local?Vf:Xf)(e)}function Gf(){}function wo(t){return t==null?Gf:function(){return this.querySelector(t)}}function Uf(t){typeof t!="function"&&(t=wo(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=a[c])&&(l=t.call(u,u.__data__,c,a))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new Jt(r,this._parents)}function Wf(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Kf(){return[]}function zl(t){return t==null?Kf:function(){return this.querySelectorAll(t)}}function Zf(t){return function(){return Wf(t.apply(this,arguments))}}function Qf(t){typeof t=="function"?t=Zf(t):t=zl(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&(r.push(t.call(u,u.__data__,l,o)),i.push(u));return new Jt(r,i)}function Dl(t){return function(){return this.matches(t)}}function Ll(t){return function(e){return e.matches(t)}}var Jf=Array.prototype.find;function th(t){return function(){return Jf.call(this.children,t)}}function eh(){return this.firstElementChild}function nh(t){return this.select(t==null?eh:th(typeof t=="function"?t:Ll(t)))}var rh=Array.prototype.filter;function ih(){return Array.from(this.children)}function ah(t){return function(){return rh.call(this.children,t)}}function oh(t){return this.selectAll(t==null?ih:ah(typeof t=="function"?t:Ll(t)))}function sh(t){typeof t!="function"&&(t=Dl(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&s.push(u);return new Jt(r,this._parents)}function Fl(t){return new Array(t.length)}function lh(){return new Jt(this._enter||this._groups.map(Fl),this._parents)}function vi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}vi.prototype={constructor:vi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function uh(t){return function(){return t}}function ch(t,e,n,r,i,a){for(var o=0,s,u=e.length,l=a.length;o<l;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new vi(t,a[o]);for(;o<u;++o)(s=e[o])&&(i[o]=s)}function fh(t,e,n,r,i,a,o){var s,u,l=new Map,c=e.length,h=a.length,f=new Array(c),d;for(s=0;s<c;++s)(u=e[s])&&(f[s]=d=o.call(u,u.__data__,s,e)+"",l.has(d)?i[s]=u:l.set(d,u));for(s=0;s<h;++s)d=o.call(t,a[s],s,a)+"",(u=l.get(d))?(r[s]=u,u.__data__=a[s],l.delete(d)):n[s]=new vi(t,a[s]);for(s=0;s<c;++s)(u=e[s])&&l.get(f[s])===u&&(i[s]=u)}function hh(t){return t.__data__}function dh(t,e){if(!arguments.length)return Array.from(this,hh);var n=e?fh:ch,r=this._parents,i=this._groups;typeof t!="function"&&(t=uh(t));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],h=i[l],f=h.length,d=vh(t.call(c,c&&c.__data__,l,r)),p=d.length,_=s[l]=new Array(p),g=o[l]=new Array(p),y=u[l]=new Array(f);n(c,h,_,g,y,d,e);for(var b=0,E=0,v,x;b<p;++b)if(v=_[b]){for(b>=E&&(E=b+1);!(x=g[E])&&++E<p;);v._next=x||null}}return o=new Jt(o,r),o._enter=s,o._exit=u,o}function vh(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ph(){return new Jt(this._exit||this._groups.map(Fl),this._parents)}function mh(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function gh(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],h=l.length,f=s[u]=new Array(h),d,p=0;p<h;++p)(d=l[p]||c[p])&&(f[p]=d);for(;u<i;++u)s[u]=n[u];return new Jt(s,this._parents)}function _h(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function yh(t){t||(t=wh);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,u=i[a]=new Array(s),l,c=0;c<s;++c)(l=o[c])&&(u[c]=l);u.sort(e)}return new Jt(i,this._parents).order()}function wh(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function xh(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function bh(){return Array.from(this)}function Mh(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function kh(){let t=0;for(const e of this)++t;return t}function Eh(){return!this.node()}function Ah(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function Sh(t){return function(){this.removeAttribute(t)}}function Nh(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $h(t,e){return function(){this.setAttribute(t,e)}}function Ph(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Th(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ch(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ih(t,e){var n=Bi(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Nh:Sh:typeof e=="function"?n.local?Ch:Th:n.local?Ph:$h)(n,e))}function ql(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Rh(t){return function(){this.style.removeProperty(t)}}function zh(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Dh(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Lh(t,e,n){return arguments.length>1?this.each((e==null?Rh:typeof e=="function"?Dh:zh)(t,e,n??"")):Rn(this.node(),t)}function Rn(t,e){return t.style.getPropertyValue(e)||ql(t).getComputedStyle(t,null).getPropertyValue(e)}function Fh(t){return function(){delete this[t]}}function qh(t,e){return function(){this[t]=e}}function Oh(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Yh(t,e){return arguments.length>1?this.each((e==null?Fh:typeof e=="function"?Oh:qh)(t,e)):this.node()[t]}function Ol(t){return t.trim().split(/^|\s+/)}function xo(t){return t.classList||new Yl(t)}function Yl(t){this._node=t,this._names=Ol(t.getAttribute("class")||"")}Yl.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function jl(t,e){for(var n=xo(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Hl(t,e){for(var n=xo(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function jh(t){return function(){jl(this,t)}}function Hh(t){return function(){Hl(this,t)}}function Bh(t,e){return function(){(e.apply(this,arguments)?jl:Hl)(this,t)}}function Xh(t,e){var n=Ol(t+"");if(arguments.length<2){for(var r=xo(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Bh:e?jh:Hh)(n,e))}function Vh(){this.textContent=""}function Gh(t){return function(){this.textContent=t}}function Uh(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Wh(t){return arguments.length?this.each(t==null?Vh:(typeof t=="function"?Uh:Gh)(t)):this.node().textContent}function Kh(){this.innerHTML=""}function Zh(t){return function(){this.innerHTML=t}}function Qh(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Jh(t){return arguments.length?this.each(t==null?Kh:(typeof t=="function"?Qh:Zh)(t)):this.node().innerHTML}function td(){this.nextSibling&&this.parentNode.appendChild(this)}function ed(){return this.each(td)}function nd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rd(){return this.each(nd)}function id(t){var e=typeof t=="function"?t:Rl(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ad(){return null}function od(t,e){var n=typeof t=="function"?t:Rl(t),r=e==null?ad:typeof e=="function"?e:wo(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function sd(){var t=this.parentNode;t&&t.removeChild(this)}function ld(){return this.each(sd)}function ud(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function cd(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fd(t){return this.select(t?cd:ud)}function hd(t){return arguments.length?this.property("__data__",t):this.node().__data__}function dd(t){return function(e){t.call(this,e,this.__data__)}}function vd(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function pd(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function md(t,e,n){return function(){var r=this.__on,i,a=dd(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function gd(t,e,n){var r=vd(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=e?md:pd,i=0;i<a;++i)this.each(s(r[i],e,n));return this}function Bl(t,e,n){var r=ql(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function _d(t,e){return function(){return Bl(this,t,e)}}function yd(t,e){return function(){return Bl(this,t,e.apply(this,arguments))}}function wd(t,e){return this.each((typeof e=="function"?yd:_d)(t,e))}function*xd(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Xl=[null];function Jt(t,e){this._groups=t,this._parents=e}function kr(){return new Jt([[document.documentElement]],Xl)}function bd(){return this}Jt.prototype=kr.prototype={constructor:Jt,select:Uf,selectAll:Qf,selectChild:nh,selectChildren:oh,filter:sh,data:dh,enter:lh,exit:ph,join:mh,merge:gh,selection:bd,order:_h,sort:yh,call:xh,nodes:bh,node:Mh,size:kh,empty:Eh,each:Ah,attr:Ih,style:Lh,property:Yh,classed:Xh,text:Wh,html:Jh,raise:ed,lower:rd,append:id,insert:od,remove:ld,clone:fd,datum:hd,on:gd,dispatch:wd,[Symbol.iterator]:xd};function $t(t){return typeof t=="string"?new Jt([[document.querySelector(t)]],[document.documentElement]):new Jt([[t]],Xl)}function Md(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Se(t,e){if(t=Md(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const kd={passive:!1},dr={capture:!0,passive:!1};function ea(t){t.stopImmediatePropagation()}function Tn(t){t.preventDefault(),t.stopImmediatePropagation()}function Vl(t){var e=t.document.documentElement,n=$t(t).on("dragstart.drag",Tn,dr);"onselectstart"in e?n.on("selectstart.drag",Tn,dr):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Gl(t,e){var n=t.document.documentElement,r=$t(t).on("dragstart.drag",null);e&&(r.on("click.drag",Tn,dr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Rr=t=>()=>t;function Sa(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:a,x:o,y:s,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}Sa.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Ed(t){return!t.ctrlKey&&!t.button}function Ad(){return this.parentNode}function Sd(t,e){return e??{x:t.x,y:t.y}}function Nd(){return navigator.maxTouchPoints||"ontouchstart"in this}function $d(){var t=Ed,e=Ad,n=Sd,r=Nd,i={},a=Mr("start","drag","end"),o=0,s,u,l,c,h=0;function f(v){v.on("mousedown.drag",d).filter(r).on("touchstart.drag",g).on("touchmove.drag",y,kd).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(v,x){if(!(c||!t.call(this,v,x))){var P=E(this,e.call(this,v,x),v,x,"mouse");P&&($t(v.view).on("mousemove.drag",p,dr).on("mouseup.drag",_,dr),Vl(v.view),ea(v),l=!1,s=v.clientX,u=v.clientY,P("start",v))}}function p(v){if(Tn(v),!l){var x=v.clientX-s,P=v.clientY-u;l=x*x+P*P>h}i.mouse("drag",v)}function _(v){$t(v.view).on("mousemove.drag mouseup.drag",null),Gl(v.view,l),Tn(v),i.mouse("end",v)}function g(v,x){if(t.call(this,v,x)){var P=v.changedTouches,N=e.call(this,v,x),$=P.length,I,D;for(I=0;I<$;++I)(D=E(this,N,v,x,P[I].identifier,P[I]))&&(ea(v),D("start",v,P[I]))}}function y(v){var x=v.changedTouches,P=x.length,N,$;for(N=0;N<P;++N)($=i[x[N].identifier])&&(Tn(v),$("drag",v,x[N]))}function b(v){var x=v.changedTouches,P=x.length,N,$;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),N=0;N<P;++N)($=i[x[N].identifier])&&(ea(v),$("end",v,x[N]))}function E(v,x,P,N,$,I){var D=a.copy(),A=Se(I||P,x),q,j,w;if((w=n.call(v,new Sa("beforestart",{sourceEvent:P,target:f,identifier:$,active:o,x:A[0],y:A[1],dx:0,dy:0,dispatch:D}),N))!=null)return q=w.x-A[0]||0,j=w.y-A[1]||0,function M(k,C,z){var L=A,X;switch(k){case"start":i[$]=M,X=o++;break;case"end":delete i[$],--o;case"drag":A=Se(z||C,x),X=o;break}D.call(k,v,new Sa(k,{sourceEvent:C,subject:w,target:f,identifier:$,active:X,x:A[0]+q,y:A[1]+j,dx:A[0]-L[0],dy:A[1]-L[1],dispatch:D}),N)}}return f.filter=function(v){return arguments.length?(t=typeof v=="function"?v:Rr(!!v),f):t},f.container=function(v){return arguments.length?(e=typeof v=="function"?v:Rr(v),f):e},f.subject=function(v){return arguments.length?(n=typeof v=="function"?v:Rr(v),f):n},f.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:Rr(!!v),f):r},f.on=function(){var v=a.on.apply(a,arguments);return v===a?f:v},f.clickDistance=function(v){return arguments.length?(h=(v=+v)*v,f):Math.sqrt(h)},f}function Er(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Xi(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function _n(){}var vr=.7,pi=1/vr,Cn="\\s*([+-]?\\d+)\\s*",pr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ge="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pd=/^#([0-9a-f]{3,8})$/,Td=new RegExp(`^rgb\\(${Cn},${Cn},${Cn}\\)$`),Cd=new RegExp(`^rgb\\(${ge},${ge},${ge}\\)$`),Id=new RegExp(`^rgba\\(${Cn},${Cn},${Cn},${pr}\\)$`),Rd=new RegExp(`^rgba\\(${ge},${ge},${ge},${pr}\\)$`),zd=new RegExp(`^hsl\\(${pr},${ge},${ge}\\)$`),Dd=new RegExp(`^hsla\\(${pr},${ge},${ge},${pr}\\)$`),es={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Er(_n,hn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ns,formatHex:ns,formatHex8:Ld,formatHsl:Fd,formatRgb:rs,toString:rs});function ns(){return this.rgb().formatHex()}function Ld(){return this.rgb().formatHex8()}function Fd(){return Wl(this).formatHsl()}function rs(){return this.rgb().formatRgb()}function hn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pd.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?is(e):n===3?new Lt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?zr(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?zr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Td.exec(t))?new Lt(e[1],e[2],e[3],1):(e=Cd.exec(t))?new Lt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Id.exec(t))?zr(e[1],e[2],e[3],e[4]):(e=Rd.exec(t))?zr(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zd.exec(t))?ss(e[1],e[2]/100,e[3]/100,1):(e=Dd.exec(t))?ss(e[1],e[2]/100,e[3]/100,e[4]):es.hasOwnProperty(t)?is(es[t]):t==="transparent"?new Lt(NaN,NaN,NaN,0):null}function is(t){return new Lt(t>>16&255,t>>8&255,t&255,1)}function zr(t,e,n,r){return r<=0&&(t=e=n=NaN),new Lt(t,e,n,r)}function Ul(t){return t instanceof _n||(t=hn(t)),t?(t=t.rgb(),new Lt(t.r,t.g,t.b,t.opacity)):new Lt}function Na(t,e,n,r){return arguments.length===1?Ul(t):new Lt(t,e,n,r??1)}function Lt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Er(Lt,Na,Xi(_n,{brighter(t){return t=t==null?pi:Math.pow(pi,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vr:Math.pow(vr,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Lt(cn(this.r),cn(this.g),cn(this.b),mi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:as,formatHex:as,formatHex8:qd,formatRgb:os,toString:os}));function as(){return`#${sn(this.r)}${sn(this.g)}${sn(this.b)}`}function qd(){return`#${sn(this.r)}${sn(this.g)}${sn(this.b)}${sn((isNaN(this.opacity)?1:this.opacity)*255)}`}function os(){const t=mi(this.opacity);return`${t===1?"rgb(":"rgba("}${cn(this.r)}, ${cn(this.g)}, ${cn(this.b)}${t===1?")":`, ${t})`}`}function mi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function cn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function sn(t){return t=cn(t),(t<16?"0":"")+t.toString(16)}function ss(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ue(t,e,n,r)}function Wl(t){if(t instanceof ue)return new ue(t.h,t.s,t.l,t.opacity);if(t instanceof _n||(t=hn(t)),!t)return new ue;if(t instanceof ue)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new ue(o,s,u,t.opacity)}function Od(t,e,n,r){return arguments.length===1?Wl(t):new ue(t,e,n,r??1)}function ue(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Er(ue,Od,Xi(_n,{brighter(t){return t=t==null?pi:Math.pow(pi,t),new ue(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vr:Math.pow(vr,t),new ue(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Lt(na(t>=240?t-240:t+120,i,r),na(t,i,r),na(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ue(ls(this.h),Dr(this.s),Dr(this.l),mi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=mi(this.opacity);return`${t===1?"hsl(":"hsla("}${ls(this.h)}, ${Dr(this.s)*100}%, ${Dr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ls(t){return t=(t||0)%360,t<0?t+360:t}function Dr(t){return Math.max(0,Math.min(1,t||0))}function na(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Yd=Math.PI/180,jd=180/Math.PI,gi=18,Kl=.96422,Zl=1,Ql=.82521,Jl=4/29,In=6/29,tu=3*In*In,Hd=In*In*In;function eu(t){if(t instanceof _e)return new _e(t.l,t.a,t.b,t.opacity);if(t instanceof Ie)return nu(t);t instanceof Lt||(t=Ul(t));var e=oa(t.r),n=oa(t.g),r=oa(t.b),i=ra((.2225045*e+.7168786*n+.0606169*r)/Zl),a,o;return e===n&&n===r?a=o=i:(a=ra((.4360747*e+.3850649*n+.1430804*r)/Kl),o=ra((.0139322*e+.0971045*n+.7141733*r)/Ql)),new _e(116*i-16,500*(a-i),200*(i-o),t.opacity)}function $a(t,e,n,r){return arguments.length===1?eu(t):new _e(t,e,n,r??1)}function _e(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Er(_e,$a,Xi(_n,{brighter(t){return new _e(this.l+gi*(t??1),this.a,this.b,this.opacity)},darker(t){return new _e(this.l-gi*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Kl*ia(e),t=Zl*ia(t),n=Ql*ia(n),new Lt(aa(3.1338561*e-1.6168667*t-.4906146*n),aa(-.9787684*e+1.9161415*t+.033454*n),aa(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function ra(t){return t>Hd?Math.pow(t,1/3):t/tu+Jl}function ia(t){return t>In?t*t*t:tu*(t-Jl)}function aa(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function oa(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Bd(t){if(t instanceof Ie)return new Ie(t.h,t.c,t.l,t.opacity);if(t instanceof _e||(t=eu(t)),t.a===0&&t.b===0)return new Ie(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*jd;return new Ie(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Xd(t,e,n,r){return arguments.length===1?Bd(t):new Ie(t,e,n,r??1)}function Ie(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function nu(t){if(isNaN(t.h))return new _e(t.l,0,0,t.opacity);var e=t.h*Yd;return new _e(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Er(Ie,Xd,Xi(_n,{brighter(t){return new Ie(this.h,this.c,this.l+gi*(t??1),this.opacity)},darker(t){return new Ie(this.h,this.c,this.l-gi*(t??1),this.opacity)},rgb(){return nu(this).rgb()}}));const bo=t=>()=>t;function Vd(t,e){return function(n){return t+n*e}}function Gd(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ud(t){return(t=+t)==1?Mn:function(e,n){return n-e?Gd(e,n,t):bo(isNaN(e)?n:e)}}function Mn(t,e){var n=e-t;return n?Vd(t,n):bo(isNaN(t)?e:t)}const _i=function t(e){var n=Ud(e);function r(i,a){var o=n((i=Na(i)).r,(a=Na(a)).r),s=n(i.g,a.g),u=n(i.b,a.b),l=Mn(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function Wd(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Kd(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Zd(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Mo(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Qd(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function le(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Jd(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Mo(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Pa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sa=new RegExp(Pa.source,"g");function t0(t){return function(){return t}}function e0(t){return function(e){return t(e)+""}}function ru(t,e){var n=Pa.lastIndex=sa.lastIndex=0,r,i,a,o=-1,s=[],u=[];for(t=t+"",e=e+"";(r=Pa.exec(t))&&(i=sa.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:le(r,i)})),n=sa.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?e0(u[0].x):t0(e):(e=u.length,function(l){for(var c=0,h;c<e;++c)s[(h=u[c]).i]=h.x(l);return s.join("")})}function Mo(t,e){var n=typeof e,r;return e==null||n==="boolean"?bo(e):(n==="number"?le:n==="string"?(r=hn(e))?(e=r,_i):ru:e instanceof hn?_i:e instanceof Date?Qd:Kd(e)?Wd:Array.isArray(e)?Zd:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Jd:le)(t,e)}function n0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var us=180/Math.PI,Ta={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function iu(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*us,skewX:Math.atan(u)*us,scaleX:o,scaleY:s}}var Lr;function r0(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ta:iu(e.a,e.b,e.c,e.d,e.e,e.f)}function i0(t){return t==null||(Lr||(Lr=document.createElementNS("http://www.w3.org/2000/svg","g")),Lr.setAttribute("transform",t),!(t=Lr.transform.baseVal.consolidate()))?Ta:(t=t.matrix,iu(t.a,t.b,t.c,t.d,t.e,t.f))}function au(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function a(l,c,h,f,d,p){if(l!==h||c!==f){var _=d.push("translate(",null,e,null,n);p.push({i:_-4,x:le(l,h)},{i:_-2,x:le(c,f)})}else(h||f)&&d.push("translate("+h+e+f+n)}function o(l,c,h,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:le(l,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(l,c,h,f){l!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:le(l,c)}):c&&h.push(i(h)+"skewX("+c+r)}function u(l,c,h,f,d,p){if(l!==h||c!==f){var _=d.push(i(d)+"scale(",null,",",null,")");p.push({i:_-4,x:le(l,h)},{i:_-2,x:le(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(l,c){var h=[],f=[];return l=t(l),c=t(c),a(l.translateX,l.translateY,c.translateX,c.translateY,h,f),o(l.rotate,c.rotate,h,f),s(l.skewX,c.skewX,h,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,h,f),l=c=null,function(d){for(var p=-1,_=f.length,g;++p<_;)h[(g=f[p]).i]=g.x(d);return h.join("")}}}var a0=au(r0,"px, ","px)","deg)"),o0=au(i0,", ",")",")"),s0=1e-12;function cs(t){return((t=Math.exp(t))+1/t)/2}function l0(t){return((t=Math.exp(t))-1/t)/2}function u0(t){return((t=Math.exp(2*t))-1)/(t+1)}const c0=function t(e,n,r){function i(a,o){var s=a[0],u=a[1],l=a[2],c=o[0],h=o[1],f=o[2],d=c-s,p=h-u,_=d*d+p*p,g,y;if(_<s0)y=Math.log(f/l)/e,g=function(N){return[s+N*d,u+N*p,l*Math.exp(e*N*y)]};else{var b=Math.sqrt(_),E=(f*f-l*l+r*_)/(2*l*n*b),v=(f*f-l*l-r*_)/(2*f*n*b),x=Math.log(Math.sqrt(E*E+1)-E),P=Math.log(Math.sqrt(v*v+1)-v);y=(P-x)/e,g=function(N){var $=N*y,I=cs(x),D=l/(n*b)*(I*u0(e*$+x)-l0(x));return[s+D*d,u+D*p,l*I/cs(e*$+x)]}}return g.duration=y*1e3*e/Math.SQRT2,g}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,u=s*s;return t(o,s,u)},i}(Math.SQRT2,2,4);function f0(t,e){var n=Mn((t=$a(t)).l,(e=$a(e)).l),r=Mn(t.a,e.a),i=Mn(t.b,e.b),a=Mn(t.opacity,e.opacity);return function(o){return t.l=n(o),t.a=r(o),t.b=i(o),t.opacity=a(o),t+""}}var zn=0,Kn=0,Vn=0,ou=1e3,yi,Zn,wi=0,dn=0,Vi=0,mr=typeof performance=="object"&&performance.now?performance:Date,su=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function gr(){return dn||(su(h0),dn=mr.now()+Vi)}function h0(){dn=0}function xi(){this._call=this._time=this._next=null}xi.prototype=Ar.prototype={constructor:xi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?gr():+n)+(e==null?0:+e),!this._next&&Zn!==this&&(Zn?Zn._next=this:yi=this,Zn=this),this._call=t,this._time=n,Ca()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ca())}};function Ar(t,e,n){var r=new xi;return r.restart(t,e,n),r}function d0(){gr(),++zn;for(var t=yi,e;t;)(e=dn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--zn}function fs(){dn=(wi=mr.now())+Vi,zn=Kn=0;try{d0()}finally{zn=0,p0(),dn=0}}function v0(){var t=mr.now(),e=t-wi;e>ou&&(Vi-=e,wi=t)}function p0(){for(var t,e=yi,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:yi=n);Zn=t,Ca(r)}function Ca(t){if(!zn){Kn&&(Kn=clearTimeout(Kn));var e=t-dn;e>24?(t<1/0&&(Kn=setTimeout(fs,t-mr.now()-Vi)),Vn&&(Vn=clearInterval(Vn))):(Vn||(wi=mr.now(),Vn=setInterval(v0,ou)),zn=1,su(fs))}}function hs(t,e,n){var r=new xi;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var m0=Mr("start","end","cancel","interrupt"),g0=[],lu=0,ds=1,Ia=2,Wr=3,vs=4,Ra=5,Kr=6;function Gi(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;_0(t,n,{name:e,index:r,group:i,on:m0,tween:g0,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:lu})}function ko(t,e){var n=fe(t,e);if(n.state>lu)throw new Error("too late; already scheduled");return n}function Ee(t,e){var n=fe(t,e);if(n.state>Wr)throw new Error("too late; already running");return n}function fe(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function _0(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Ar(a,0,n.time);function a(l){n.state=ds,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,h,f,d;if(n.state!==ds)return u();for(c in r)if(d=r[c],d.name===n.name){if(d.state===Wr)return hs(o);d.state===vs?(d.state=Kr,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=Kr,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(hs(function(){n.state===Wr&&(n.state=vs,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=Ia,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ia){for(n.state=Wr,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=Ra,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);n.state===Ra&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Kr,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function Zr(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>Ia&&r.state<Ra,r.state=Kr,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function y0(t){return this.each(function(){Zr(this,t)})}function w0(t,e){var n,r;return function(){var i=Ee(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function x0(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Ee(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}function b0(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=fe(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?w0:x0)(n,t,e))}function Eo(t,e,n){var r=t._id;return t.each(function(){var i=Ee(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return fe(i,r).value[e]}}function uu(t,e){var n;return(typeof e=="number"?le:e instanceof hn?_i:(n=hn(e))?(e=n,_i):ru)(t,e)}function M0(t){return function(){this.removeAttribute(t)}}function k0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function E0(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function A0(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function S0(t,e,n){var r,i,a;return function(){var o,s=n(this),u;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s)))}}function N0(t,e,n){var r,i,a;return function(){var o,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s)))}}function $0(t,e){var n=Bi(t),r=n==="transform"?o0:uu;return this.attrTween(t,typeof e=="function"?(n.local?N0:S0)(n,r,Eo(this,"attr."+t,e)):e==null?(n.local?k0:M0)(n):(n.local?A0:E0)(n,r,e))}function P0(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function T0(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function C0(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&T0(t,a)),n}return i._value=e,i}function I0(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&P0(t,a)),n}return i._value=e,i}function R0(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Bi(t);return this.tween(n,(r.local?C0:I0)(r,e))}function z0(t,e){return function(){ko(this,t).delay=+e.apply(this,arguments)}}function D0(t,e){return e=+e,function(){ko(this,t).delay=e}}function L0(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?z0:D0)(e,t)):fe(this.node(),e).delay}function F0(t,e){return function(){Ee(this,t).duration=+e.apply(this,arguments)}}function q0(t,e){return e=+e,function(){Ee(this,t).duration=e}}function O0(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?F0:q0)(e,t)):fe(this.node(),e).duration}function Y0(t,e){if(typeof e!="function")throw new Error;return function(){Ee(this,t).ease=e}}function j0(t){var e=this._id;return arguments.length?this.each(Y0(e,t)):fe(this.node(),e).ease}function H0(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ee(this,t).ease=n}}function B0(t){if(typeof t!="function")throw new Error;return this.each(H0(this._id,t))}function X0(t){typeof t!="function"&&(t=Dl(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&s.push(u);return new De(r,this._parents,this._name,this._id)}function V0(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u=e[s],l=n[s],c=u.length,h=o[s]=new Array(c),f,d=0;d<c;++d)(f=u[d]||l[d])&&(h[d]=f);for(;s<r;++s)o[s]=e[s];return new De(o,this._parents,this._name,this._id)}function G0(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function U0(t,e,n){var r,i,a=G0(e)?ko:Ee;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function W0(t,e){var n=this._id;return arguments.length<2?fe(this.node(),n).on.on(t):this.each(U0(n,t,e))}function K0(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Z0(){return this.on("end.remove",K0(this._id))}function Q0(t){var e=this._name,n=this._id;typeof t!="function"&&(t=wo(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],u=s.length,l=a[o]=new Array(u),c,h,f=0;f<u;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),l[f]=h,Gi(l[f],e,n,f,l,fe(c,n)));return new De(a,this._parents,e,n)}function J0(t){var e=this._name,n=this._id;typeof t!="function"&&(t=zl(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,h=0;h<l;++h)if(c=u[h]){for(var f=t.call(c,c.__data__,h,u),d,p=fe(c,n),_=0,g=f.length;_<g;++_)(d=f[_])&&Gi(d,e,n,_,f,p);a.push(f),o.push(c)}return new De(a,o,e,n)}var tv=kr.prototype.constructor;function ev(){return new tv(this._groups,this._parents)}function nv(t,e){var n,r,i;return function(){var a=Rn(this,t),o=(this.style.removeProperty(t),Rn(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function cu(t){return function(){this.style.removeProperty(t)}}function rv(t,e,n){var r,i=n+"",a;return function(){var o=Rn(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function iv(t,e,n){var r,i,a;return function(){var o=Rn(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),Rn(this,t))),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}function av(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var u=Ee(this,t),l=u.on,c=u.value[a]==null?s||(s=cu(e)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function ov(t,e,n){var r=(t+="")=="transform"?a0:uu;return e==null?this.styleTween(t,nv(t,r)).on("end.style."+t,cu(t)):typeof e=="function"?this.styleTween(t,iv(t,r,Eo(this,"style."+t,e))).each(av(this._id,t)):this.styleTween(t,rv(t,r,e),n).on("end.style."+t,null)}function sv(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function lv(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&sv(t,o,n)),r}return a._value=e,a}function uv(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,lv(t,e,n??""))}function cv(t){return function(){this.textContent=t}}function fv(t){return function(){var e=t(this);this.textContent=e??""}}function hv(t){return this.tween("text",typeof t=="function"?fv(Eo(this,"text",t)):cv(t==null?"":t+""))}function dv(t){return function(e){this.textContent=t.call(this,e)}}function vv(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&dv(i)),e}return r._value=t,r}function pv(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,vv(t))}function mv(){for(var t=this._name,e=this._id,n=fu(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,l=0;l<s;++l)if(u=o[l]){var c=fe(u,e);Gi(u,t,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new De(r,this._parents,t,n)}function gv(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},u={value:function(){--i===0&&a()}};n.each(function(){var l=Ee(this,r),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),l.on=e}),i===0&&a()})}var _v=0;function De(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function fu(){return++_v}var Ae=kr.prototype;De.prototype={constructor:De,select:Q0,selectAll:J0,selectChild:Ae.selectChild,selectChildren:Ae.selectChildren,filter:X0,merge:V0,selection:ev,transition:mv,call:Ae.call,nodes:Ae.nodes,node:Ae.node,size:Ae.size,empty:Ae.empty,each:Ae.each,on:W0,attr:$0,attrTween:R0,style:ov,styleTween:uv,text:hv,textTween:pv,remove:Z0,tween:b0,delay:L0,duration:O0,ease:j0,easeVarying:B0,end:gv,[Symbol.iterator]:Ae[Symbol.iterator]};function yv(t){return--t*t*t+1}function wv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var xv={time:null,delay:0,duration:250,ease:wv};function bv(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Mv(t){var e,n;t instanceof De?(e=t._id,t=t._name):(e=fu(),(n=xv).time=gr(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&Gi(u,t,e,l,o,n||bv(u,e));return new De(r,this._parents,t,e)}kr.prototype.interrupt=y0;kr.prototype.transition=Mv;const za=Math.PI,Da=2*za,nn=1e-6,kv=Da-nn;function hu(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ev(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hu;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Av{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hu:Ev(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,u=r-e,l=i-n,c=o-e,h=s-n,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>nn)if(!(Math.abs(h*u-l*c)>nn)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-o,p=i-s,_=u*u+l*l,g=d*d+p*p,y=Math.sqrt(_),b=Math.sqrt(f),E=a*Math.tan((za-Math.acos((_+f-g)/(2*y*b)))/2),v=E/b,x=E/y;Math.abs(v-1)>nn&&this._append`L${e+v*c},${n+v*h}`,this._append`A${a},${a},0,0,${+(h*d>c*p)},${this._x1=e+x*u},${this._y1=n+x*l}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),u=r*Math.sin(i),l=e+s,c=n+u,h=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>nn||Math.abs(this._y1-c)>nn)&&this._append`L${l},${c}`,r&&(f<0&&(f=f%Da+Da),f>kv?this._append`A${r},${r},0,1,${h},${e-s},${n-u}A${r},${r},0,1,${h},${this._x1=l},${this._y1=c}`:f>nn&&this._append`A${r},${r},0,${+(f>=za)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Sv(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function bi(t,e){return fetch(t,e).then(Sv)}function Nv(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var a,o=n.length,s,u=0,l=0;for(a=0;a<o;++a)s=n[a],u+=s.x,l+=s.y;for(u=(u/o-t)*r,l=(l/o-e)*r,a=0;a<o;++a)s=n[a],s.x-=u,s.y-=l}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(t=+a,i):t},i.y=function(a){return arguments.length?(e=+a,i):e},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function $v(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return du(this.cover(e,n),e,n,t)}function du(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a=t._root,o={data:r},s=t._x0,u=t._y0,l=t._x1,c=t._y1,h,f,d,p,_,g,y,b;if(!a)return t._root=o,t;for(;a.length;)if((_=e>=(h=(s+l)/2))?s=h:l=h,(g=n>=(f=(u+c)/2))?u=f:c=f,i=a,!(a=a[y=g<<1|_]))return i[y]=o,t;if(d=+t._x.call(null,a.data),p=+t._y.call(null,a.data),e===d&&n===p)return o.next=a,i?i[y]=o:t._root=o,t;do i=i?i[y]=new Array(4):t._root=new Array(4),(_=e>=(h=(s+l)/2))?s=h:l=h,(g=n>=(f=(u+c)/2))?u=f:c=f;while((y=g<<1|_)===(b=(p>=f)<<1|d>=h));return i[b]=a,i[y]=o,t}function Pv(t){var e,n,r=t.length,i,a,o=new Array(r),s=new Array(r),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(o[n]=i,s[n]=a,i<u&&(u=i),i>c&&(c=i),a<l&&(l=a),a>h&&(h=a));if(u>c||l>h)return this;for(this.cover(u,l).cover(c,h),n=0;n<r;++n)du(this,o[n],s[n],t[n]);return this}function Tv(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o=i-n||1,s=this._root,u,l;n>t||t>=i||r>e||e>=a;)switch(l=(e<r)<<1|t<n,u=new Array(4),u[l]=s,s=u,o*=2,l){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function Cv(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Iv(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Yt(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Rv(t,e,n){var r,i=this._x0,a=this._y0,o,s,u,l,c=this._x1,h=this._y1,f=[],d=this._root,p,_;for(d&&f.push(new Yt(d,i,a,c,h)),n==null?n=1/0:(i=t-n,a=e-n,c=t+n,h=e+n,n*=n);p=f.pop();)if(!(!(d=p.node)||(o=p.x0)>c||(s=p.y0)>h||(u=p.x1)<i||(l=p.y1)<a))if(d.length){var g=(o+u)/2,y=(s+l)/2;f.push(new Yt(d[3],g,y,u,l),new Yt(d[2],o,y,g,l),new Yt(d[1],g,s,u,y),new Yt(d[0],o,s,g,y)),(_=(e>=y)<<1|t>=g)&&(p=f[f.length-1],f[f.length-1]=f[f.length-1-_],f[f.length-1-_]=p)}else{var b=t-+this._x.call(null,d.data),E=e-+this._y.call(null,d.data),v=b*b+E*E;if(v<n){var x=Math.sqrt(n=v);i=t-x,a=e-x,c=t+x,h=e+x,r=d.data}}return r}function zv(t){if(isNaN(c=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,a,o=this._x0,s=this._y0,u=this._x1,l=this._y1,c,h,f,d,p,_,g,y;if(!n)return this;if(n.length)for(;;){if((p=c>=(f=(o+u)/2))?o=f:u=f,(_=h>=(d=(s+l)/2))?s=d:l=d,e=n,!(n=n[g=_<<1|p]))return this;if(!n.length)break;(e[g+1&3]||e[g+2&3]||e[g+3&3])&&(r=e,y=g)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):e?(a?e[g]=a:delete e[g],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=a,this)}function Dv(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Lv(){return this._root}function Fv(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function qv(t){var e=[],n,r=this._root,i,a,o,s,u;for(r&&e.push(new Yt(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,a=n.x0,o=n.y0,s=n.x1,u=n.y1)&&r.length){var l=(a+s)/2,c=(o+u)/2;(i=r[3])&&e.push(new Yt(i,l,c,s,u)),(i=r[2])&&e.push(new Yt(i,a,c,l,u)),(i=r[1])&&e.push(new Yt(i,l,o,s,c)),(i=r[0])&&e.push(new Yt(i,a,o,l,c))}return this}function Ov(t){var e=[],n=[],r;for(this._root&&e.push(new Yt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,u=r.x1,l=r.y1,c=(o+u)/2,h=(s+l)/2;(a=i[0])&&e.push(new Yt(a,o,s,c,h)),(a=i[1])&&e.push(new Yt(a,c,s,u,h)),(a=i[2])&&e.push(new Yt(a,o,h,c,l)),(a=i[3])&&e.push(new Yt(a,c,h,u,l))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Yv(t){return t[0]}function jv(t){return arguments.length?(this._x=t,this):this._x}function Hv(t){return t[1]}function Bv(t){return arguments.length?(this._y=t,this):this._y}function vu(t,e,n){var r=new Ao(e??Yv,n??Hv,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function Ao(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function ps(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Bt=vu.prototype=Ao.prototype;Bt.copy=function(){var t=new Ao(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=ps(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=ps(r));return t};Bt.add=$v;Bt.addAll=Pv;Bt.cover=Tv;Bt.data=Cv;Bt.extent=Iv;Bt.find=Rv;Bt.remove=zv;Bt.removeAll=Dv;Bt.root=Lv;Bt.size=Fv;Bt.visit=qv;Bt.visitAfter=Ov;Bt.x=jv;Bt.y=Bv;function or(t){return function(){return t}}function kn(t){return(t()-.5)*1e-6}function Xv(t){return t.index}function ms(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Vv(t){var e=Xv,n=h,r,i=or(30),a,o,s,u,l,c=1;t==null&&(t=[]);function h(g){return 1/Math.min(s[g.source.index],s[g.target.index])}function f(g){for(var y=0,b=t.length;y<c;++y)for(var E=0,v,x,P,N,$,I,D;E<b;++E)v=t[E],x=v.source,P=v.target,N=P.x+P.vx-x.x-x.vx||kn(l),$=P.y+P.vy-x.y-x.vy||kn(l),I=Math.sqrt(N*N+$*$),I=(I-a[E])/I*g*r[E],N*=I,$*=I,P.vx-=N*(D=u[E]),P.vy-=$*D,x.vx+=N*(D=1-D),x.vy+=$*D}function d(){if(o){var g,y=o.length,b=t.length,E=new Map(o.map((x,P)=>[e(x,P,o),x])),v;for(g=0,s=new Array(y);g<b;++g)v=t[g],v.index=g,typeof v.source!="object"&&(v.source=ms(E,v.source)),typeof v.target!="object"&&(v.target=ms(E,v.target)),s[v.source.index]=(s[v.source.index]||0)+1,s[v.target.index]=(s[v.target.index]||0)+1;for(g=0,u=new Array(b);g<b;++g)v=t[g],u[g]=s[v.source.index]/(s[v.source.index]+s[v.target.index]);r=new Array(b),p(),a=new Array(b),_()}}function p(){if(o)for(var g=0,y=t.length;g<y;++g)r[g]=+n(t[g],g,t)}function _(){if(o)for(var g=0,y=t.length;g<y;++g)a[g]=+i(t[g],g,t)}return f.initialize=function(g,y){o=g,l=y,d()},f.links=function(g){return arguments.length?(t=g,d(),f):t},f.id=function(g){return arguments.length?(e=g,f):e},f.iterations=function(g){return arguments.length?(c=+g,f):c},f.strength=function(g){return arguments.length?(n=typeof g=="function"?g:or(+g),p(),f):n},f.distance=function(g){return arguments.length?(i=typeof g=="function"?g:or(+g),_(),f):i},f}const Gv=1664525,Uv=1013904223,gs=4294967296;function Wv(){let t=1;return()=>(t=(Gv*t+Uv)%gs)/gs}function Kv(t){return t.x}function Zv(t){return t.y}var Qv=10,Jv=Math.PI*(3-Math.sqrt(5));function tp(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,u=Ar(h),l=Mr("tick","end"),c=Wv();t==null&&(t=[]);function h(){f(),l.call("tick",e),n<r&&(u.stop(),l.call("end",e))}function f(_){var g,y=t.length,b;_===void 0&&(_=1);for(var E=0;E<_;++E)for(n+=(a-n)*i,s.forEach(function(v){v(n)}),g=0;g<y;++g)b=t[g],b.fx==null?b.x+=b.vx*=o:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=o:(b.y=b.fy,b.vy=0);return e}function d(){for(var _=0,g=t.length,y;_<g;++_){if(y=t[_],y.index=_,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var b=Qv*Math.sqrt(.5+_),E=_*Jv;y.x=b*Math.cos(E),y.y=b*Math.sin(E)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(_){return _.initialize&&_.initialize(t,c),_}return d(),e={tick:f,restart:function(){return u.restart(h),e},stop:function(){return u.stop(),e},nodes:function(_){return arguments.length?(t=_,d(),s.forEach(p),e):t},alpha:function(_){return arguments.length?(n=+_,e):n},alphaMin:function(_){return arguments.length?(r=+_,e):r},alphaDecay:function(_){return arguments.length?(i=+_,e):+i},alphaTarget:function(_){return arguments.length?(a=+_,e):a},velocityDecay:function(_){return arguments.length?(o=1-_,e):1-o},randomSource:function(_){return arguments.length?(c=_,s.forEach(p),e):c},force:function(_,g){return arguments.length>1?(g==null?s.delete(_):s.set(_,p(g)),e):s.get(_)},find:function(_,g,y){var b=0,E=t.length,v,x,P,N,$;for(y==null?y=1/0:y*=y,b=0;b<E;++b)N=t[b],v=_-N.x,x=g-N.y,P=v*v+x*x,P<y&&($=N,y=P);return $},on:function(_,g){return arguments.length>1?(l.on(_,g),e):l.on(_)}}}function ep(){var t,e,n,r,i=or(-30),a,o=1,s=1/0,u=.81;function l(d){var p,_=t.length,g=vu(t,Kv,Zv).visitAfter(h);for(r=d,p=0;p<_;++p)e=t[p],g.visit(f)}function c(){if(t){var d,p=t.length,_;for(a=new Array(p),d=0;d<p;++d)_=t[d],a[_.index]=+i(_,d,t)}}function h(d){var p=0,_,g,y=0,b,E,v;if(d.length){for(b=E=v=0;v<4;++v)(_=d[v])&&(g=Math.abs(_.value))&&(p+=_.value,y+=g,b+=g*_.x,E+=g*_.y);d.x=b/y,d.y=E/y}else{_=d,_.x=_.data.x,_.y=_.data.y;do p+=a[_.data.index];while(_=_.next)}d.value=p}function f(d,p,_,g){if(!d.value)return!0;var y=d.x-e.x,b=d.y-e.y,E=g-p,v=y*y+b*b;if(E*E/u<v)return v<s&&(y===0&&(y=kn(n),v+=y*y),b===0&&(b=kn(n),v+=b*b),v<o&&(v=Math.sqrt(o*v)),e.vx+=y*d.value*r/v,e.vy+=b*d.value*r/v),!0;if(d.length||v>=s)return;(d.data!==e||d.next)&&(y===0&&(y=kn(n),v+=y*y),b===0&&(b=kn(n),v+=b*b),v<o&&(v=Math.sqrt(o*v)));do d.data!==e&&(E=a[d.data.index]*r/v,e.vx+=y*E,e.vy+=b*E);while(d=d.next)}return l.initialize=function(d,p){t=d,n=p,c()},l.strength=function(d){return arguments.length?(i=typeof d=="function"?d:or(+d),c(),l):i},l.distanceMin=function(d){return arguments.length?(o=d*d,l):Math.sqrt(o)},l.distanceMax=function(d){return arguments.length?(s=d*d,l):Math.sqrt(s)},l.theta=function(d){return arguments.length?(u=d*d,l):Math.sqrt(u)},l}function np(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Mi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Dn(t){return t=Mi(Math.abs(t)),t?t[1]:NaN}function rp(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function ip(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ap=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ki(t){if(!(e=ap.exec(t)))throw new Error("invalid format: "+t);var e;return new So({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ki.prototype=So.prototype;function So(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}So.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function op(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var pu;function sp(t,e){var n=Mi(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(pu=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Mi(t,Math.max(0,e+a-1))[0]}function _s(t,e){var n=Mi(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ys={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:np,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>_s(t*100,e),r:_s,s:sp,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ws(t){return t}var xs=Array.prototype.map,bs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function lp(t){var e=t.grouping===void 0||t.thousands===void 0?ws:rp(xs.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?ws:ip(xs.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(h){h=ki(h);var f=h.fill,d=h.align,p=h.sign,_=h.symbol,g=h.zero,y=h.width,b=h.comma,E=h.precision,v=h.trim,x=h.type;x==="n"?(b=!0,x="g"):ys[x]||(E===void 0&&(E=12),v=!0,x="g"),(g||f==="0"&&d==="=")&&(g=!0,f="0",d="=");var P=_==="$"?n:_==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",N=_==="$"?r:/[%p]/.test(x)?o:"",$=ys[x],I=/[defgprs%]/.test(x);E=E===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function D(A){var q=P,j=N,w,M,k;if(x==="c")j=$(A)+j,A="";else{A=+A;var C=A<0||1/A<0;if(A=isNaN(A)?u:$(Math.abs(A),E),v&&(A=op(A)),C&&+A==0&&p!=="+"&&(C=!1),q=(C?p==="("?p:s:p==="-"||p==="("?"":p)+q,j=(x==="s"?bs[8+pu/3]:"")+j+(C&&p==="("?")":""),I){for(w=-1,M=A.length;++w<M;)if(k=A.charCodeAt(w),48>k||k>57){j=(k===46?i+A.slice(w+1):A.slice(w))+j,A=A.slice(0,w);break}}}b&&!g&&(A=e(A,1/0));var z=q.length+A.length+j.length,L=z<y?new Array(y-z+1).join(f):"";switch(b&&g&&(A=e(L+A,L.length?y-j.length:1/0),L=""),d){case"<":A=q+A+j+L;break;case"=":A=q+L+A+j;break;case"^":A=L.slice(0,z=L.length>>1)+q+A+j+L.slice(z);break;default:A=L+q+A+j;break}return a(A)}return D.toString=function(){return h+""},D}function c(h,f){var d=l((h=ki(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(Dn(f)/3)))*3,_=Math.pow(10,-p),g=bs[8+p/3];return function(y){return d(_*y)+g}}return{format:l,formatPrefix:c}}var Fr,Ve,mu;up({thousands:",",grouping:[3],currency:["$",""]});function up(t){return Fr=lp(t),Ve=Fr.format,mu=Fr.formatPrefix,Fr}function cp(t){return Math.max(0,-Dn(Math.abs(t)))}function fp(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Dn(e)/3)))*3-Dn(Math.abs(t)))}function hp(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Dn(e)-Dn(t))+1}var gt=1e-6,lt=Math.PI,Wt=lt/2,Ms=lt/4,te=lt*2,Zt=180/lt,xt=lt/180,Mt=Math.abs,gu=Math.atan,vn=Math.atan2,mt=Math.cos,dp=Math.exp,vp=Math.log,pt=Math.sin,pp=Math.sign||function(t){return t>0?1:t<0?-1:0},He=Math.sqrt,mp=Math.tan;function gp(t){return t>1?0:t<-1?lt:Math.acos(t)}function pn(t){return t>1?Wt:t<-1?-Wt:Math.asin(t)}function zt(){}function Ei(t,e){t&&Es.hasOwnProperty(t.type)&&Es[t.type](t,e)}var ks={Feature:function(t,e){Ei(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Ei(n[r].geometry,e)}},Es={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){La(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)La(n[r],e,0)},Polygon:function(t,e){As(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)As(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Ei(n[r],e)}};function La(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function As(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)La(t[n],e,1);e.polygonEnd()}function on(t,e){t&&ks.hasOwnProperty(t.type)?ks[t.type](t,e):Ei(t,e)}function Fa(t){return[vn(t[1],t[0]),pn(t[2])]}function Ln(t){var e=t[0],n=t[1],r=mt(n);return[r*mt(e),r*pt(e),pt(n)]}function qr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ai(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function la(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Or(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function qa(t){var e=He(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Oa(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function Ya(t,e){return Mt(t)>lt&&(t-=Math.round(t/te)*te),[t,e]}Ya.invert=Ya;function _u(t,e,n){return(t%=te)?e||n?Oa(Ns(t),$s(e,n)):Ns(t):e||n?$s(e,n):Ya}function Ss(t){return function(e,n){return e+=t,Mt(e)>lt&&(e-=Math.round(e/te)*te),[e,n]}}function Ns(t){var e=Ss(t);return e.invert=Ss(-t),e}function $s(t,e){var n=mt(t),r=pt(t),i=mt(e),a=pt(e);function o(s,u){var l=mt(u),c=mt(s)*l,h=pt(s)*l,f=pt(u),d=f*n+c*r;return[vn(h*i-d*a,c*n-f*r),pn(d*i+h*a)]}return o.invert=function(s,u){var l=mt(u),c=mt(s)*l,h=pt(s)*l,f=pt(u),d=f*i-h*a;return[vn(h*i+f*a,c*n+d*r),pn(d*n-c*r)]},o}function _p(t){t=_u(t[0]*xt,t[1]*xt,t.length>2?t[2]*xt:0);function e(n){return n=t(n[0]*xt,n[1]*xt),n[0]*=Zt,n[1]*=Zt,n}return e.invert=function(n){return n=t.invert(n[0]*xt,n[1]*xt),n[0]*=Zt,n[1]*=Zt,n},e}function yp(t,e,n,r,i,a){if(n){var o=mt(e),s=pt(e),u=r*n;i==null?(i=e+r*te,a=e-u/2):(i=Ps(o,i),a=Ps(o,a),(r>0?i<a:i>a)&&(i+=r*te));for(var l,c=i;r>0?c>a:c<a;c-=u)l=Fa([o,-s*mt(c),-s*pt(c)]),t.point(l[0],l[1])}}function Ps(t,e){e=Ln(e),e[0]-=t,qa(e);var n=gp(-e[1]);return((-e[2]<0?-n:n)+te-gt)%te}function yu(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:zt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Qr(t,e){return Mt(t[0]-e[0])<gt&&Mt(t[1]-e[1])<gt}function Yr(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function wu(t,e,n,r,i){var a=[],o=[],s,u;if(t.forEach(function(p){if(!((_=p.length-1)<=0)){var _,g=p[0],y=p[_],b;if(Qr(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),s=0;s<_;++s)i.point((g=p[s])[0],g[1]);i.lineEnd();return}y[0]+=2*gt}a.push(b=new Yr(g,p,null,!0)),o.push(b.o=new Yr(g,null,b,!1)),a.push(b=new Yr(y,p,null,!1)),o.push(b.o=new Yr(y,null,b,!0))}}),!!a.length){for(o.sort(e),Ts(a),Ts(o),s=0,u=o.length;s<u;++s)o[s].e=n=!n;for(var l=a[0],c,h;;){for(var f=l,d=!0;f.v;)if((f=f.n)===l)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(s=0,u=c.length;s<u;++s)i.point((h=c[s])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(c=f.p.z,s=c.length-1;s>=0;--s)i.point((h=c[s])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,d=!d}while(!f.v);i.lineEnd()}}}function Ts(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function ua(t){return Mt(t[0])<=lt?t[0]:pp(t[0])*((Mt(t[0])+lt)%te-lt)}function wp(t,e){var n=ua(e),r=e[1],i=pt(r),a=[pt(n),-mt(n),0],o=0,s=0,u=new Je;i===1?r=Wt+gt:i===-1&&(r=-Wt-gt);for(var l=0,c=t.length;l<c;++l)if(f=(h=t[l]).length)for(var h,f,d=h[f-1],p=ua(d),_=d[1]/2+Ms,g=pt(_),y=mt(_),b=0;b<f;++b,p=v,g=P,y=N,d=E){var E=h[b],v=ua(E),x=E[1]/2+Ms,P=pt(x),N=mt(x),$=v-p,I=$>=0?1:-1,D=I*$,A=D>lt,q=g*P;if(u.add(vn(q*I*pt(D),y*N+q*mt(D))),o+=A?$+I*te:$,A^p>=n^v>=n){var j=Ai(Ln(d),Ln(E));qa(j);var w=Ai(a,j);qa(w);var M=(A^$>=0?-1:1)*pn(w[2]);(r>M||r===M&&(j[0]||j[1]))&&(s+=A^$>=0?1:-1)}}return(o<-1e-6||o<gt&&u<-1e-12)^s&1}function xu(t,e,n,r){return function(i){var a=e(i),o=yu(),s=e(o),u=!1,l,c,h,f={point:d,lineStart:_,lineEnd:g,polygonStart:function(){f.point=y,f.lineStart=b,f.lineEnd=E,c=[],l=[]},polygonEnd:function(){f.point=d,f.lineStart=_,f.lineEnd=g,c=Cl(c);var v=wp(l,r);c.length?(u||(i.polygonStart(),u=!0),wu(c,bp,v,n,i)):v&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),c=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(v,x){t(v,x)&&i.point(v,x)}function p(v,x){a.point(v,x)}function _(){f.point=p,a.lineStart()}function g(){f.point=d,a.lineEnd()}function y(v,x){h.push([v,x]),s.point(v,x)}function b(){s.lineStart(),h=[]}function E(){y(h[0][0],h[0][1]),s.lineEnd();var v=s.clean(),x=o.result(),P,N=x.length,$,I,D;if(h.pop(),l.push(h),h=null,!!N){if(v&1){if(I=x[0],($=I.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),P=0;P<$;++P)i.point((D=I[P])[0],D[1]);i.lineEnd()}return}N>1&&v&2&&x.push(x.pop().concat(x.shift())),c.push(x.filter(xp))}}return f}}function xp(t){return t.length>1}function bp(t,e){return((t=t.x)[0]<0?t[1]-Wt-gt:Wt-t[1])-((e=e.x)[0]<0?e[1]-Wt-gt:Wt-e[1])}const Cs=xu(function(){return!0},Mp,Ep,[-lt,-Wt]);function Mp(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var s=a>0?lt:-lt,u=Mt(a-e);Mt(u-lt)<gt?(t.point(e,n=(n+o)/2>0?Wt:-Wt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),i=0):r!==s&&u>=lt&&(Mt(e-r)<gt&&(e-=r*gt),Mt(a-s)<gt&&(a-=s*gt),n=kp(e,n,a,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=a,n=o),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function kp(t,e,n,r){var i,a,o=pt(t-n);return Mt(o)>gt?gu((pt(e)*(a=mt(r))*pt(n)-pt(r)*(i=mt(e))*pt(t))/(i*a*o)):(e+r)/2}function Ep(t,e,n,r){var i;if(t==null)i=n*Wt,r.point(-lt,i),r.point(0,i),r.point(lt,i),r.point(lt,0),r.point(lt,-i),r.point(0,-i),r.point(-lt,-i),r.point(-lt,0),r.point(-lt,i);else if(Mt(t[0]-e[0])>gt){var a=t[0]<e[0]?lt:-lt;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function Ap(t){var e=mt(t),n=2*xt,r=e>0,i=Mt(e)>gt;function a(c,h,f,d){yp(d,t,n,f,c,h)}function o(c,h){return mt(c)*mt(h)>e}function s(c){var h,f,d,p,_;return{lineStart:function(){p=d=!1,_=1},point:function(g,y){var b=[g,y],E,v=o(g,y),x=r?v?0:l(g,y):v?l(g+(g<0?lt:-lt),y):0;if(!h&&(p=d=v)&&c.lineStart(),v!==d&&(E=u(h,b),(!E||Qr(h,E)||Qr(b,E))&&(b[2]=1)),v!==d)_=0,v?(c.lineStart(),E=u(b,h),c.point(E[0],E[1])):(E=u(h,b),c.point(E[0],E[1],2),c.lineEnd()),h=E;else if(i&&h&&r^v){var P;!(x&f)&&(P=u(b,h,!0))&&(_=0,r?(c.lineStart(),c.point(P[0][0],P[0][1]),c.point(P[1][0],P[1][1]),c.lineEnd()):(c.point(P[1][0],P[1][1]),c.lineEnd(),c.lineStart(),c.point(P[0][0],P[0][1],3)))}v&&(!h||!Qr(h,b))&&c.point(b[0],b[1]),h=b,d=v,f=x},lineEnd:function(){d&&c.lineEnd(),h=null},clean:function(){return _|(p&&d)<<1}}}function u(c,h,f){var d=Ln(c),p=Ln(h),_=[1,0,0],g=Ai(d,p),y=qr(g,g),b=g[0],E=y-b*b;if(!E)return!f&&c;var v=e*y/E,x=-e*b/E,P=Ai(_,g),N=Or(_,v),$=Or(g,x);la(N,$);var I=P,D=qr(N,I),A=qr(I,I),q=D*D-A*(qr(N,N)-1);if(!(q<0)){var j=He(q),w=Or(I,(-D-j)/A);if(la(w,N),w=Fa(w),!f)return w;var M=c[0],k=h[0],C=c[1],z=h[1],L;k<M&&(L=M,M=k,k=L);var X=k-M,H=Mt(X-lt)<gt,B=H||X<gt;if(!H&&z<C&&(L=C,C=z,z=L),B?H?C+z>0^w[1]<(Mt(w[0]-M)<gt?C:z):C<=w[1]&&w[1]<=z:X>lt^(M<=w[0]&&w[0]<=k)){var Q=Or(I,(-D+j)/A);return la(Q,N),[w,Fa(Q)]}}}function l(c,h){var f=r?t:lt-t,d=0;return c<-f?d|=1:c>f&&(d|=2),h<-f?d|=4:h>f&&(d|=8),d}return xu(o,s,a,r?[0,-t]:[-lt,t-lt])}function Sp(t,e,n,r,i,a){var o=t[0],s=t[1],u=e[0],l=e[1],c=0,h=1,f=u-o,d=l-s,p;if(p=n-o,!(!f&&p>0)){if(p/=f,f<0){if(p<c)return;p<h&&(h=p)}else if(f>0){if(p>h)return;p>c&&(c=p)}if(p=i-o,!(!f&&p<0)){if(p/=f,f<0){if(p>h)return;p>c&&(c=p)}else if(f>0){if(p<c)return;p<h&&(h=p)}if(p=r-s,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>c&&(c=p)}if(p=a-s,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<h&&(h=p)}return c>0&&(t[0]=o+c*f,t[1]=s+c*d),h<1&&(e[0]=o+h*f,e[1]=s+h*d),!0}}}}}var jr=1e9,Hr=-1e9;function Np(t,e,n,r){function i(l,c){return t<=l&&l<=n&&e<=c&&c<=r}function a(l,c,h,f){var d=0,p=0;if(l==null||(d=o(l,h))!==(p=o(c,h))||u(l,c)<0^h>0)do f.point(d===0||d===3?t:n,d>1?r:e);while((d=(d+h+4)%4)!==p);else f.point(c[0],c[1])}function o(l,c){return Mt(l[0]-t)<gt?c>0?0:3:Mt(l[0]-n)<gt?c>0?2:1:Mt(l[1]-e)<gt?c>0?1:0:c>0?3:2}function s(l,c){return u(l.x,c.x)}function u(l,c){var h=o(l,1),f=o(c,1);return h!==f?h-f:h===0?c[1]-l[1]:h===1?l[0]-c[0]:h===2?l[1]-c[1]:c[0]-l[0]}return function(l){var c=l,h=yu(),f,d,p,_,g,y,b,E,v,x,P,N={point:$,lineStart:q,lineEnd:j,polygonStart:D,polygonEnd:A};function $(M,k){i(M,k)&&c.point(M,k)}function I(){for(var M=0,k=0,C=d.length;k<C;++k)for(var z=d[k],L=1,X=z.length,H=z[0],B,Q,W=H[0],nt=H[1];L<X;++L)B=W,Q=nt,H=z[L],W=H[0],nt=H[1],Q<=r?nt>r&&(W-B)*(r-Q)>(nt-Q)*(t-B)&&++M:nt<=r&&(W-B)*(r-Q)<(nt-Q)*(t-B)&&--M;return M}function D(){c=h,f=[],d=[],P=!0}function A(){var M=I(),k=P&&M,C=(f=Cl(f)).length;(k||C)&&(l.polygonStart(),k&&(l.lineStart(),a(null,null,1,l),l.lineEnd()),C&&wu(f,s,M,a,l),l.polygonEnd()),c=l,f=d=p=null}function q(){N.point=w,d&&d.push(p=[]),x=!0,v=!1,b=E=NaN}function j(){f&&(w(_,g),y&&v&&h.rejoin(),f.push(h.result())),N.point=$,v&&c.lineEnd()}function w(M,k){var C=i(M,k);if(d&&p.push([M,k]),x)_=M,g=k,y=C,x=!1,C&&(c.lineStart(),c.point(M,k));else if(C&&v)c.point(M,k);else{var z=[b=Math.max(Hr,Math.min(jr,b)),E=Math.max(Hr,Math.min(jr,E))],L=[M=Math.max(Hr,Math.min(jr,M)),k=Math.max(Hr,Math.min(jr,k))];Sp(z,L,t,e,n,r)?(v||(c.lineStart(),c.point(z[0],z[1])),c.point(L[0],L[1]),C||c.lineEnd(),P=!1):C&&(c.lineStart(),c.point(M,k),P=!1)}b=M,E=k,v=C}return N}}var ja,Ha,Jr,ti,Fn={sphere:zt,point:zt,lineStart:$p,lineEnd:zt,polygonStart:zt,polygonEnd:zt};function $p(){Fn.point=Tp,Fn.lineEnd=Pp}function Pp(){Fn.point=Fn.lineEnd=zt}function Tp(t,e){t*=xt,e*=xt,Ha=t,Jr=pt(e),ti=mt(e),Fn.point=Cp}function Cp(t,e){t*=xt,e*=xt;var n=pt(e),r=mt(e),i=Mt(t-Ha),a=mt(i),o=pt(i),s=r*o,u=ti*n-Jr*r*a,l=Jr*n+ti*r*a;ja.add(vn(He(s*s+u*u),l)),Ha=t,Jr=n,ti=r}function Ip(t){return ja=new Je,on(t,Fn),+ja}var Ba=[null,null],Rp={type:"LineString",coordinates:Ba};function zp(t,e){return Ba[0]=t,Ba[1]=e,Ip(Rp)}const Xa=t=>t;var ca=new Je,Va=new Je,bu,Mu,Ga,Ua,Pe={point:zt,lineStart:zt,lineEnd:zt,polygonStart:function(){Pe.lineStart=Dp,Pe.lineEnd=Fp},polygonEnd:function(){Pe.lineStart=Pe.lineEnd=Pe.point=zt,ca.add(Mt(Va)),Va=new Je},result:function(){var t=ca/2;return ca=new Je,t}};function Dp(){Pe.point=Lp}function Lp(t,e){Pe.point=ku,bu=Ga=t,Mu=Ua=e}function ku(t,e){Va.add(Ua*t-Ga*e),Ga=t,Ua=e}function Fp(){ku(bu,Mu)}var qn=1/0,Si=qn,_r=-qn,Ni=_r,$i={point:qp,lineStart:zt,lineEnd:zt,polygonStart:zt,polygonEnd:zt,result:function(){var t=[[qn,Si],[_r,Ni]];return _r=Ni=-(Si=qn=1/0),t}};function qp(t,e){t<qn&&(qn=t),t>_r&&(_r=t),e<Si&&(Si=e),e>Ni&&(Ni=e)}var Wa=0,Ka=0,Qn=0,Pi=0,Ti=0,En=0,Za=0,Qa=0,Jn=0,Eu,Au,ve,pe,ie={point:mn,lineStart:Is,lineEnd:Rs,polygonStart:function(){ie.lineStart=jp,ie.lineEnd=Hp},polygonEnd:function(){ie.point=mn,ie.lineStart=Is,ie.lineEnd=Rs},result:function(){var t=Jn?[Za/Jn,Qa/Jn]:En?[Pi/En,Ti/En]:Qn?[Wa/Qn,Ka/Qn]:[NaN,NaN];return Wa=Ka=Qn=Pi=Ti=En=Za=Qa=Jn=0,t}};function mn(t,e){Wa+=t,Ka+=e,++Qn}function Is(){ie.point=Op}function Op(t,e){ie.point=Yp,mn(ve=t,pe=e)}function Yp(t,e){var n=t-ve,r=e-pe,i=He(n*n+r*r);Pi+=i*(ve+t)/2,Ti+=i*(pe+e)/2,En+=i,mn(ve=t,pe=e)}function Rs(){ie.point=mn}function jp(){ie.point=Bp}function Hp(){Su(Eu,Au)}function Bp(t,e){ie.point=Su,mn(Eu=ve=t,Au=pe=e)}function Su(t,e){var n=t-ve,r=e-pe,i=He(n*n+r*r);Pi+=i*(ve+t)/2,Ti+=i*(pe+e)/2,En+=i,i=pe*t-ve*e,Za+=i*(ve+t),Qa+=i*(pe+e),Jn+=i*3,mn(ve=t,pe=e)}function Nu(t){this._context=t}Nu.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,te);break}}},result:zt};var Ja=new Je,fa,$u,Pu,tr,er,yr={point:zt,lineStart:function(){yr.point=Xp},lineEnd:function(){fa&&Tu($u,Pu),yr.point=zt},polygonStart:function(){fa=!0},polygonEnd:function(){fa=null},result:function(){var t=+Ja;return Ja=new Je,t}};function Xp(t,e){yr.point=Tu,$u=tr=t,Pu=er=e}function Tu(t,e){tr-=t,er-=e,Ja.add(He(tr*tr+er*er)),tr=t,er=e}let zs,Ci,Ds,Ls;class Fs{constructor(e){this._append=e==null?Cu:Vp(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Ds||this._append!==Ci){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Ds=r,Ci=this._append,Ls=this._,this._=i}this._+=Ls;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Cu(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Vp(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Cu;if(e!==zs){const n=10**e;zs=e,Ci=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Ci}function to(t,e){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),on(s,i(a))),a.result()}return o.area=function(s){return on(s,i(Pe)),Pe.result()},o.measure=function(s){return on(s,i(yr)),yr.result()},o.bounds=function(s){return on(s,i($i)),$i.result()},o.centroid=function(s){return on(s,i(ie)),ie.result()},o.projection=function(s){return arguments.length?(i=s==null?(t=null,Xa):(t=s).stream,o):t},o.context=function(s){return arguments.length?(a=s==null?(e=null,new Fs(n)):new Nu(e=s),typeof r!="function"&&a.pointRadius(r),o):e},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const u=Math.floor(s);if(!(u>=0))throw new RangeError(`invalid digits: ${s}`);n=u}return e===null&&(a=new Fs(n)),o},o.projection(t).digits(n).context(e)}function No(t){return function(e){var n=new eo;for(var r in t)n[r]=t[r];return n.stream=e,n}}function eo(){}eo.prototype={constructor:eo,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function $o(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),on(n,t.stream($i)),e($i.result()),r!=null&&t.clipExtent(r),t}function Iu(t,e,n){return $o(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,u=+e[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([s,u])},n)}function Gp(t,e,n){return Iu(t,[[0,0],e],n)}function Up(t,e,n){return $o(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];t.scale(150*a).translate([o,s])},n)}function Wp(t,e,n){return $o(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,s])},n)}var qs=16,Kp=mt(30*xt);function Os(t,e){return+e?Qp(t,e):Zp(t)}function Zp(t){return No({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Qp(t,e){function n(r,i,a,o,s,u,l,c,h,f,d,p,_,g){var y=l-r,b=c-i,E=y*y+b*b;if(E>4*e&&_--){var v=o+f,x=s+d,P=u+p,N=He(v*v+x*x+P*P),$=pn(P/=N),I=Mt(Mt(P)-1)<gt||Mt(a-h)<gt?(a+h)/2:vn(x,v),D=t(I,$),A=D[0],q=D[1],j=A-r,w=q-i,M=b*j-y*w;(M*M/E>e||Mt((y*j+b*w)/E-.5)>.3||o*f+s*d+u*p<Kp)&&(n(r,i,a,o,s,u,A,q,I,v/=N,x/=N,P,_,g),g.point(A,q),n(A,q,I,v,x,P,l,c,h,f,d,p,_,g))}}return function(r){var i,a,o,s,u,l,c,h,f,d,p,_,g={point:y,lineStart:b,lineEnd:v,polygonStart:function(){r.polygonStart(),g.lineStart=x},polygonEnd:function(){r.polygonEnd(),g.lineStart=b}};function y($,I){$=t($,I),r.point($[0],$[1])}function b(){h=NaN,g.point=E,r.lineStart()}function E($,I){var D=Ln([$,I]),A=t($,I);n(h,f,c,d,p,_,h=A[0],f=A[1],c=$,d=D[0],p=D[1],_=D[2],qs,r),r.point(h,f)}function v(){g.point=y,r.lineEnd()}function x(){b(),g.point=P,g.lineEnd=N}function P($,I){E(i=$,I),a=h,o=f,s=d,u=p,l=_,g.point=E}function N(){n(h,f,c,d,p,_,a,o,i,s,u,l,qs,r),g.lineEnd=v,v()}return g}}var Jp=No({point:function(t,e){this.stream.point(t*xt,e*xt)}});function tm(t){return No({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function em(t,e,n,r,i){function a(o,s){return o*=r,s*=i,[e+t*o,n-t*s]}return a.invert=function(o,s){return[(o-e)/t*r,(n-s)/t*i]},a}function Ys(t,e,n,r,i,a){if(!a)return em(t,e,n,r,i);var o=mt(a),s=pt(a),u=o*t,l=s*t,c=o/t,h=s/t,f=(s*n-o*e)/t,d=(s*e+o*n)/t;function p(_,g){return _*=r,g*=i,[u*_-l*g+e,n-l*_-u*g]}return p.invert=function(_,g){return[r*(c*_-h*g+f),i*(d-h*_-c*g)]},p}function Ru(t){return nm(function(){return t})()}function nm(t){var e,n=150,r=480,i=250,a=0,o=0,s=0,u=0,l=0,c,h=0,f=1,d=1,p=null,_=Cs,g=null,y,b,E,v=Xa,x=.5,P,N,$,I,D;function A(M){return $(M[0]*xt,M[1]*xt)}function q(M){return M=$.invert(M[0],M[1]),M&&[M[0]*Zt,M[1]*Zt]}A.stream=function(M){return I&&D===M?I:I=Jp(tm(c)(_(P(v(D=M)))))},A.preclip=function(M){return arguments.length?(_=M,p=void 0,w()):_},A.postclip=function(M){return arguments.length?(v=M,g=y=b=E=null,w()):v},A.clipAngle=function(M){return arguments.length?(_=+M?Ap(p=M*xt):(p=null,Cs),w()):p*Zt},A.clipExtent=function(M){return arguments.length?(v=M==null?(g=y=b=E=null,Xa):Np(g=+M[0][0],y=+M[0][1],b=+M[1][0],E=+M[1][1]),w()):g==null?null:[[g,y],[b,E]]},A.scale=function(M){return arguments.length?(n=+M,j()):n},A.translate=function(M){return arguments.length?(r=+M[0],i=+M[1],j()):[r,i]},A.center=function(M){return arguments.length?(a=M[0]%360*xt,o=M[1]%360*xt,j()):[a*Zt,o*Zt]},A.rotate=function(M){return arguments.length?(s=M[0]%360*xt,u=M[1]%360*xt,l=M.length>2?M[2]%360*xt:0,j()):[s*Zt,u*Zt,l*Zt]},A.angle=function(M){return arguments.length?(h=M%360*xt,j()):h*Zt},A.reflectX=function(M){return arguments.length?(f=M?-1:1,j()):f<0},A.reflectY=function(M){return arguments.length?(d=M?-1:1,j()):d<0},A.precision=function(M){return arguments.length?(P=Os(N,x=M*M),w()):He(x)},A.fitExtent=function(M,k){return Iu(A,M,k)},A.fitSize=function(M,k){return Gp(A,M,k)},A.fitWidth=function(M,k){return Up(A,M,k)},A.fitHeight=function(M,k){return Wp(A,M,k)};function j(){var M=Ys(n,0,0,f,d,h).apply(null,e(a,o)),k=Ys(n,r-M[0],i-M[1],f,d,h);return c=_u(s,u,l),N=Oa(e,k),$=Oa(c,N),P=Os(N,x),w()}function w(){return I=D=null,A}return function(){return e=t.apply(this,arguments),A.invert=e.invert&&q,j()}}function rm(t){return function(e,n){var r=He(e*e+n*n),i=t(r),a=pt(i),o=mt(i);return[vn(e*a,r*o),pn(r&&n*a/r)]}}function Po(t,e){return[t,vp(mp((Wt+e)/2))]}Po.invert=function(t,e){return[t,2*gu(dp(e))-Wt]};function im(){return am(Po).scale(961/te)}function am(t){var e=Ru(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,o=null,s,u,l;e.scale=function(h){return arguments.length?(r(h),c()):r()},e.translate=function(h){return arguments.length?(i(h),c()):i()},e.center=function(h){return arguments.length?(n(h),c()):n()},e.clipExtent=function(h){return arguments.length?(h==null?o=s=u=l=null:(o=+h[0][0],s=+h[0][1],u=+h[1][0],l=+h[1][1]),c()):o==null?null:[[o,s],[u,l]]};function c(){var h=lt*r(),f=e(_p(e.rotate()).invert([0,0]));return a(o==null?[[f[0]-h,f[1]-h],[f[0]+h,f[1]+h]]:t===Po?[[Math.max(f[0]-h,o),s],[Math.min(f[0]+h,u),l]]:[[o,Math.max(f[1]-h,s)],[u,Math.min(f[1]+h,l)]])}return c()}function zu(t,e){return[mt(e)*pt(t),pt(e)]}zu.invert=rm(pn);function js(){return Ru(zu).scale(249.5).clipAngle(90+gt)}function Du(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Hs=Symbol("implicit");function Lu(){var t=new Ko,e=[],n=[],r=Hs;function i(a){let o=t.get(a);if(o===void 0){if(r!==Hs)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Ko;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Lu(e,n).unknown(r)},Du.apply(i,arguments),i}function om(t){return function(){return t}}function sm(t){return+t}var Bs=[0,1];function An(t){return t}function no(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:om(isNaN(e)?NaN:.5)}function lm(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function um(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=no(i,r),a=n(o,a)):(r=no(r,i),a=n(a,o)),function(s){return a(r(s))}}function cm(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=no(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var u=Af(t,s,1,r)-1;return a[u](i[u](s))}}function fm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hm(){var t=Bs,e=Bs,n=Mo,r,i,a,o=An,s,u,l;function c(){var f=Math.min(t.length,e.length);return o!==An&&(o=lm(t[0],t[f-1])),s=f>2?cm:um,u=l=null,h}function h(f){return f==null||isNaN(f=+f)?a:(u||(u=s(t.map(r),e,n)))(r(o(f)))}return h.invert=function(f){return o(i((l||(l=s(e,t.map(r),le)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,sm),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=n0,c()},h.clamp=function(f){return arguments.length?(o=f?!0:An,c()):o!==An},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,d){return r=f,i=d,c()}}function dm(){return hm()(An,An)}function vm(t,e,n,r){var i=Rf(t,e,n),a;switch(r=ki(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=fp(i,o))&&(r.precision=a),mu(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=hp(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=cp(i))&&(r.precision=a-(r.type==="%")*2);break}}return Ve(r)}function pm(t){var e=t.domain;return t.ticks=function(n){var r=e();return If(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return vm(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],u,l,c=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);c-- >0;){if(l=ba(o,s,n),l===u)return r[i]=o,r[a]=s,e(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function qt(){var t=dm();return t.copy=function(){return fm(t,qt())},Du.apply(t,arguments),pm(t)}function mm(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const nr=mm("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function bn(t){return function(){return t}}function gm(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Av(e)}function _m(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Fu(t){this._context=t}Fu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ym(t){return new Fu(t)}function wm(t){return t[0]}function xm(t){return t[1]}function Ke(t,e){var n=bn(!0),r=null,i=ym,a=null,o=gm(s);t=typeof t=="function"?t:t===void 0?wm:bn(t),e=typeof e=="function"?e:e===void 0?xm:bn(e);function s(u){var l,c=(u=_m(u)).length,h,f=!1,d;for(r==null&&(a=i(d=o())),l=0;l<=c;++l)!(l<c&&n(h=u[l],l,u))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(h,l,u),+e(h,l,u));if(d)return a=null,d+""||null}return s.x=function(u){return arguments.length?(t=typeof u=="function"?u:bn(+u),s):t},s.y=function(u){return arguments.length?(e=typeof u=="function"?u:bn(+u),s):e},s.defined=function(u){return arguments.length?(n=typeof u=="function"?u:bn(!!u),s):n},s.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),s):i},s.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),s):r},s}function qu(t){this._context=t}qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Xs(t),i=Xs(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Xs(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function bm(t){return new qu(t)}const Br=t=>()=>t;function Mm(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Re(t,e,n){this.k=t,this.x=e,this.y=n}Re.prototype={constructor:Re,scale:function(t){return t===1?this:new Re(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Re(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ou=new Re(1,0,0);Re.prototype;function ha(t){t.stopImmediatePropagation()}function Gn(t){t.preventDefault(),t.stopImmediatePropagation()}function km(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Em(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Vs(){return this.__zoom||Ou}function Am(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Sm(){return navigator.maxTouchPoints||"ontouchstart"in this}function Nm(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Yu(){var t=km,e=Em,n=Nm,r=Am,i=Sm,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,u=c0,l=Mr("start","zoom","end"),c,h,f,d=500,p=150,_=0,g=10;function y(w){w.property("__zoom",Vs).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",A).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(w,M,k,C){var z=w.selection?w.selection():w;z.property("__zoom",Vs),w!==z?x(w,M,k,C):z.interrupt().each(function(){P(this,arguments).event(C).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},y.scaleBy=function(w,M,k,C){y.scaleTo(w,function(){var z=this.__zoom.k,L=typeof M=="function"?M.apply(this,arguments):M;return z*L},k,C)},y.scaleTo=function(w,M,k,C){y.transform(w,function(){var z=e.apply(this,arguments),L=this.__zoom,X=k==null?v(z):typeof k=="function"?k.apply(this,arguments):k,H=L.invert(X),B=typeof M=="function"?M.apply(this,arguments):M;return n(E(b(L,B),X,H),z,o)},k,C)},y.translateBy=function(w,M,k,C){y.transform(w,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof k=="function"?k.apply(this,arguments):k),e.apply(this,arguments),o)},null,C)},y.translateTo=function(w,M,k,C,z){y.transform(w,function(){var L=e.apply(this,arguments),X=this.__zoom,H=C==null?v(L):typeof C=="function"?C.apply(this,arguments):C;return n(Ou.translate(H[0],H[1]).scale(X.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof k=="function"?-k.apply(this,arguments):-k),L,o)},C,z)};function b(w,M){return M=Math.max(a[0],Math.min(a[1],M)),M===w.k?w:new Re(M,w.x,w.y)}function E(w,M,k){var C=M[0]-k[0]*w.k,z=M[1]-k[1]*w.k;return C===w.x&&z===w.y?w:new Re(w.k,C,z)}function v(w){return[(+w[0][0]+ +w[1][0])/2,(+w[0][1]+ +w[1][1])/2]}function x(w,M,k,C){w.on("start.zoom",function(){P(this,arguments).event(C).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(C).end()}).tween("zoom",function(){var z=this,L=arguments,X=P(z,L).event(C),H=e.apply(z,L),B=k==null?v(H):typeof k=="function"?k.apply(z,L):k,Q=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),W=z.__zoom,nt=typeof M=="function"?M.apply(z,L):M,at=u(W.invert(B).concat(Q/W.k),nt.invert(B).concat(Q/nt.k));return function(T){if(T===1)T=nt;else{var K=at(T),Z=Q/K[2];T=new Re(Z,B[0]-K[0]*Z,B[1]-K[1]*Z)}X.zoom(null,T)}})}function P(w,M,k){return!k&&w.__zooming||new N(w,M)}function N(w,M){this.that=w,this.args=M,this.active=0,this.sourceEvent=null,this.extent=e.apply(w,M),this.taps=0}N.prototype={event:function(w){return w&&(this.sourceEvent=w),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(w,M){return this.mouse&&w!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&w!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&w!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(w){var M=$t(this.that).datum();l.call(w,this.that,new Mm(w,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:l}),M)}};function $(w,...M){if(!t.apply(this,arguments))return;var k=P(this,M).event(w),C=this.__zoom,z=Math.max(a[0],Math.min(a[1],C.k*Math.pow(2,r.apply(this,arguments)))),L=Se(w);if(k.wheel)(k.mouse[0][0]!==L[0]||k.mouse[0][1]!==L[1])&&(k.mouse[1]=C.invert(k.mouse[0]=L)),clearTimeout(k.wheel);else{if(C.k===z)return;k.mouse=[L,C.invert(L)],Zr(this),k.start()}Gn(w),k.wheel=setTimeout(X,p),k.zoom("mouse",n(E(b(C,z),k.mouse[0],k.mouse[1]),k.extent,o));function X(){k.wheel=null,k.end()}}function I(w,...M){if(f||!t.apply(this,arguments))return;var k=w.currentTarget,C=P(this,M,!0).event(w),z=$t(w.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",Q,!0),L=Se(w,k),X=w.clientX,H=w.clientY;Vl(w.view),ha(w),C.mouse=[L,this.__zoom.invert(L)],Zr(this),C.start();function B(W){if(Gn(W),!C.moved){var nt=W.clientX-X,at=W.clientY-H;C.moved=nt*nt+at*at>_}C.event(W).zoom("mouse",n(E(C.that.__zoom,C.mouse[0]=Se(W,k),C.mouse[1]),C.extent,o))}function Q(W){z.on("mousemove.zoom mouseup.zoom",null),Gl(W.view,C.moved),Gn(W),C.event(W).end()}}function D(w,...M){if(t.apply(this,arguments)){var k=this.__zoom,C=Se(w.changedTouches?w.changedTouches[0]:w,this),z=k.invert(C),L=k.k*(w.shiftKey?.5:2),X=n(E(b(k,L),C,z),e.apply(this,M),o);Gn(w),s>0?$t(this).transition().duration(s).call(x,X,C,w):$t(this).call(y.transform,X,C,w)}}function A(w,...M){if(t.apply(this,arguments)){var k=w.touches,C=k.length,z=P(this,M,w.changedTouches.length===C).event(w),L,X,H,B;for(ha(w),X=0;X<C;++X)H=k[X],B=Se(H,this),B=[B,this.__zoom.invert(B),H.identifier],z.touch0?!z.touch1&&z.touch0[2]!==B[2]&&(z.touch1=B,z.taps=0):(z.touch0=B,L=!0,z.taps=1+!!c);c&&(c=clearTimeout(c)),L&&(z.taps<2&&(h=B[0],c=setTimeout(function(){c=null},d)),Zr(this),z.start())}}function q(w,...M){if(this.__zooming){var k=P(this,M).event(w),C=w.changedTouches,z=C.length,L,X,H,B;for(Gn(w),L=0;L<z;++L)X=C[L],H=Se(X,this),k.touch0&&k.touch0[2]===X.identifier?k.touch0[0]=H:k.touch1&&k.touch1[2]===X.identifier&&(k.touch1[0]=H);if(X=k.that.__zoom,k.touch1){var Q=k.touch0[0],W=k.touch0[1],nt=k.touch1[0],at=k.touch1[1],T=(T=nt[0]-Q[0])*T+(T=nt[1]-Q[1])*T,K=(K=at[0]-W[0])*K+(K=at[1]-W[1])*K;X=b(X,Math.sqrt(T/K)),H=[(Q[0]+nt[0])/2,(Q[1]+nt[1])/2],B=[(W[0]+at[0])/2,(W[1]+at[1])/2]}else if(k.touch0)H=k.touch0[0],B=k.touch0[1];else return;k.zoom("touch",n(E(X,H,B),k.extent,o))}}function j(w,...M){if(this.__zooming){var k=P(this,M).event(w),C=w.changedTouches,z=C.length,L,X;for(ha(w),f&&clearTimeout(f),f=setTimeout(function(){f=null},d),L=0;L<z;++L)X=C[L],k.touch0&&k.touch0[2]===X.identifier?delete k.touch0:k.touch1&&k.touch1[2]===X.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(X=Se(X,this),Math.hypot(h[0]-X[0],h[1]-X[1])<g)){var H=$t(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return y.wheelDelta=function(w){return arguments.length?(r=typeof w=="function"?w:Br(+w),y):r},y.filter=function(w){return arguments.length?(t=typeof w=="function"?w:Br(!!w),y):t},y.touchable=function(w){return arguments.length?(i=typeof w=="function"?w:Br(!!w),y):i},y.extent=function(w){return arguments.length?(e=typeof w=="function"?w:Br([[+w[0][0],+w[0][1]],[+w[1][0],+w[1][1]]]),y):e},y.scaleExtent=function(w){return arguments.length?(a[0]=+w[0],a[1]=+w[1],y):[a[0],a[1]]},y.translateExtent=function(w){return arguments.length?(o[0][0]=+w[0][0],o[1][0]=+w[1][0],o[0][1]=+w[0][1],o[1][1]=+w[1][1],y):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},y.constrain=function(w){return arguments.length?(n=w,y):n},y.duration=function(w){return arguments.length?(s=+w,y):s},y.interpolate=function(w){return arguments.length?(u=w,y):u},y.on=function(){var w=l.on.apply(l,arguments);return w===l?y:w},y.clickDistance=function(w){return arguments.length?(_=(w=+w)*w,y):Math.sqrt(_)},y.tapDistance=function(w){return arguments.length?(g=+w,y):g},y}function $m(t){return t}function Pm(t){if(t==null)return $m;var e,n,r=t.scale[0],i=t.scale[1],a=t.translate[0],o=t.translate[1];return function(s,u){u||(e=n=0);var l=2,c=s.length,h=new Array(c);for(h[0]=(e+=s[0])*r+a,h[1]=(n+=s[1])*i+o;l<c;)h[l]=s[l],++l;return h}}function Tm(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function ju(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return Gs(t,n)})}:Gs(t,e)}function Gs(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,a=Cm(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function Cm(t,e){var n=Pm(t.transform),r=t.arcs;function i(c,h){h.length&&h.pop();for(var f=r[c<0?~c:c],d=0,p=f.length;d<p;++d)h.push(n(f[d],d));c<0&&Tm(h,p)}function a(c){return n(c)}function o(c){for(var h=[],f=0,d=c.length;f<d;++f)i(c[f],h);return h.length<2&&h.push(h[0]),h}function s(c){for(var h=o(c);h.length<4;)h.push(h[0]);return h}function u(c){return c.map(s)}function l(c){var h=c.type,f;switch(h){case"GeometryCollection":return{type:h,geometries:c.geometries.map(l)};case"Point":f=a(c.coordinates);break;case"MultiPoint":f=c.coordinates.map(a);break;case"LineString":f=o(c.arcs);break;case"MultiLineString":f=c.arcs.map(o);break;case"Polygon":f=u(c.arcs);break;case"MultiPolygon":f=c.arcs.map(u);break;default:return null}return{type:h,coordinates:f}}return l(e)}var Im=Tt(`<div class="intro-section svelte-17be02m"><div class="intro-text svelte-17be02m"><h1 class="svelte-17be02m">Bem-vindo à História da Matemática</h1> <p class="svelte-17be02m">Esta visualização interativa mostra os locais de nascimento de matemáticos
      desde <strong>1700 a.C.</strong> até os tempos modernos.</p> <p class="svelte-17be02m">À esquerda, vemos uma face do globo. À direita, a face oposta. 
      Isso permite observar simultaneamente contribuições do oriente e do ocidente,
      ou comparar civilizações que coexistiram sem contato.</p></div> <div class="double-globe svelte-17be02m"><svg class="svelte-17be02m"></svg> <svg class="svelte-17be02m"></svg> <div id="tooltip" class="svelte-17be02m"></div></div> <div class="label svelte-17be02m">Mostrando até <strong> </strong></div> <div class="controls svelte-17be02m"><button class="svelte-17be02m"> </button> <button class="svelte-17be02m">Reiniciar</button></div></div>`);function Hu(t,e){if(new.target)return je({component:Hu,...t});xe(e,!1);const n="https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json",r="data/mac_tutor_com_coords.json",i=300,a=300,o=-500,s=2025,u=360/7500;let l=J(),c=J(),h=J(),f,d,p,_,g={type:"FeatureCollection",features:[]},y=[],b=0,E=J(o),v,x=0,P=J(!1);function N(T){const K=T==null?void 0:T.match(/(\d+)\s*BC/i);if(K)return-parseInt(K[1]);const Z=T==null?void 0:T.match(/(\d{3,4})/);return Z?+Z[1]:null}function $(T){return T<0?`${-T} a.C.`:`${T}`}function I(T,K,Z){T.selectAll("*").remove(),T.append("circle").attr("cx",i/2).attr("cy",a/2).attr("r",i/2-5).attr("fill","#e0eaff"),T.append("path").attr("class","land").attr("d",Z(g)).attr("fill","#c0d8f0").attr("stroke","#888").attr("stroke-width",.5);const Et=y.filter(it=>{if(it.birthYear>m(E))return!1;const et=K.invert([i/2,a/2]);return zp(it.coords,et)<=Math.PI/2});T.append("g").selectAll("circle").data(Et).join("circle").attr("r",2).attr("fill","crimson").attr("stroke","#000").attr("stroke-width",.3).attr("cx",it=>K(it.coords)[0]).attr("cy",it=>K(it.coords)[1]).on("mouseover",(it,et)=>{an(h,m(h).innerHTML=`<strong>${et.nome_completo}</strong><br/><em>${$(et.birthYear)}</em>`),an(h,m(h).style.opacity=1),an(h,m(h).style.left=`${it.clientX+10}px`),an(h,m(h).style.top=`${it.clientY+10}px`)}).on("mouseout",()=>{an(h,m(h).style.opacity=0)})}function D(){f.rotate([-b,-20,0]),d.rotate([-b+180,-20,0]),I($t(m(l)),f,p),I($t(m(c)),d,_)}function A(T){if(m(P))return;const K=T-x;x=T,b=(b+K*u)%360;let Z=m(E)<-800?500:m(E)<1400?100:m(E)<1800?50:10;G(E,m(E)+K/1e3*Z),m(E)>s&&(G(E,s),j()),D()}function q(){v&&v.stop(),G(P,!1),x=gr(),v=Ar(A)}function j(){v&&v.stop(),G(P,!0)}function w(){j(),b=0,G(E,o),D(),requestAnimationFrame(()=>{x=gr(),q()})}ke(async()=>{f=js().scale(i/2-10).translate([i/2,a/2]).clipAngle(90),d=js().scale(i/2-10).translate([i/2,a/2]).clipAngle(90),p=to(f),_=to(d);const T=await bi(n);if(T&&T.objects&&T.objects.countries){const Z=ju(T,T.objects.countries);g={type:"FeatureCollection",features:Array.isArray(Z.features)?Z.features:[]}}y=(await bi(r)).map(Z=>{const Et=N(Z.data_nascimento),it=parseFloat(Z.lat_nasc),et=parseFloat(Z.lon_nasc);return Et==null||isNaN(it)||isNaN(et)?null:{nome_completo:Z.nome_completo,birthYear:Et,coords:[et,it],link:Z.link}}).filter(Boolean),q()}),yf(()=>{v&&v.stop()}),qe();var M=Im(),k=Y(O(M),2),C=O(k);Ot(C,"width",i),Ot(C,"height",a),me(C,T=>G(l,T),()=>m(l));var z=Y(C,2);Ot(z,"width",i),Ot(z,"height",a),me(z,T=>G(c,T),()=>m(c));var L=Y(z,2);me(L,T=>G(h,T),()=>m(h)),F(k);var X=Y(k,2),H=Y(O(X)),B=O(H,!0);F(H),F(X);var Q=Y(X,2),W=O(Q),nt=O(W,!0);F(W);var at=Y(W,2);return F(Q),F(M),Dt(T=>{yt(B,T),yt(nt,m(P)?"Retomar":"Pausar")},[()=>$(Math.floor(m(E)))],jn),wt("click",W,()=>m(P)?q():j()),wt("click",at,w),bt(t,M),be({$set:Ye,$on:(T,K)=>Oe(e,T,K)})}var Rm=Tt('<li class="svelte-jlkzy3"> </li>'),zm=Tt('<ul class="suggestions-list svelte-jlkzy3"></ul>'),Dm=Tt("<p><strong>Morte:</strong> </p>"),Lm=Tt('<h3> </h3><p><strong>Nascimento:</strong> </p><!><p><strong>Resumo:</strong> </p><p><a target="_blank"> </a></p>',1),Fm=Tt("<p>Clique em um ponto no mapa para ver detalhes.</p>"),qm=Tt('<section class="map-section svelte-jlkzy3"><div class="map-and-search svelte-jlkzy3"><div class="map-wrapper svelte-jlkzy3"><svg width="800" height="450"></svg></div><div class="search-box svelte-jlkzy3"><input type="text" placeholder="Buscar matemático…" class="svelte-jlkzy3"><!> <div class="depth-control svelte-jlkzy3"><label><strong>Profundidade de Citações:</strong></label> <input type="range" min="1" class="depth-slider svelte-jlkzy3"> <div class="depth-info svelte-jlkzy3"><span> </span><span> </span></div> <div class="legend svelte-jlkzy3"><div class="legend-item svelte-jlkzy3"><div class="legend-circle svelte-jlkzy3" style="background-color:#0ea5e9"></div><span>Selecionado / Nível 1</span></div><div class="legend-item svelte-jlkzy3"><div class="legend-circle svelte-jlkzy3" style="background-color:#38bdf8"></div><span>Nível 2</span></div><div class="legend-item svelte-jlkzy3"><div class="legend-circle svelte-jlkzy3" style="background-color:#7dd3fc"></div><span>Nível 3</span></div></div></div> <div class="info-container svelte-jlkzy3"><!></div></div></div></section><section class="graph-section svelte-jlkzy3"></section>',1);function Bu(t,e){if(new.target)return je({component:Bu,...t});xe(e,!1);const n="https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json",r="data/mac_tutor_com_coords.json";let i=J(),a=J(),o,s,u=J([]),l={type:"FeatureCollection",features:[]},c={},h={},f=J([]),d=J(null),p=J(""),_=J([]),g=J(!1),y=J(1),b=6;function E(R){const S=R==null?void 0:R.match(/(\d+)\s*BC/i);if(S)return-parseInt(S[1]);const U=R==null?void 0:R.match(/(\d{3,4})/);return U?+U[1]:null}function v(R){return R.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/\s+/g,"-").replace(/[^\w-]/g,"")}async function x(R){G(d,R),G(f,[]),c={},h={};try{const S=await fetch(`MacTutorData/${v(R.nome_curto)}.json`);if(S.ok){const U=await S.json();G(d,{...m(d),...U}),U.matematicos_citados_na_biografia&&(c[1]=await P(U.matematicos_citados_na_biografia),h[v(m(d).nome_curto)]=c[1].map(rt=>v(rt.nome_curto)),await N(),$())}}catch(S){console.error(S)}A(),D()}async function P(R){if(!Array.isArray(R))return[];const S=R.map(U=>U.toLowerCase());return m(u).filter(U=>S.some(rt=>U.nome_curto.toLowerCase().includes(rt)||U.nome_completo.toLowerCase().includes(rt)))}async function N(){var R;for(let S=1;S<b;S++){const U=S+1,rt=c[S]||[];if(!rt.length)break;let tt=[];for(let st of rt){const ht=v(st.nome_curto);try{const kt=await fetch(`MacTutorData/${ht}.json`);if(kt.ok){const At=await kt.json();if(At.matematicos_citados_na_biografia){const St=await P(At.matematicos_citados_na_biografia);h[ht]=(h[ht]||[]).concat(St.map(Xt=>v(Xt.nome_curto))),tt.push(...St)}}}catch{}}const ct=new Set([v(m(d).nome_curto)]);for(let st=1;st<=S;st++)(R=c[st])==null||R.forEach(ht=>ct.add(v(ht.nome_curto)));if(c[U]=tt.filter(st=>!ct.has(v(st.nome_curto))).map(st=>st),!c[U].length)break}}function $(){G(f,[]);for(let R=1;R<=m(y);R++)c[R]&&m(f).push(...c[R]);G(f,Array.from(new Set(m(f))))}function I(){const R=new Map,S=[],U=v(m(d).nome_curto);R.set(U,m(d));for(let tt=1;tt<=m(y);tt++){const ct=tt===1?[v(m(d).nome_curto)]:(c[tt-1]||[]).map(st=>v(st.nome_curto));for(let st of ct){const kt=(h[st]||[]).filter(At=>(c[tt]||[]).some(St=>v(St.nome_curto)===At));for(let At of kt){const St=m(u).find(V=>v(V.nome_curto)===st),Xt=m(u).find(V=>v(V.nome_curto)===At);St&&R.set(st,St),Xt&&R.set(At,Xt),S.push({source:st,target:At})}}}return{nodes:Array.from(R.values()).map(tt=>({id:v(tt.nome_curto),data:tt})),links:S}}function D(){if($t(m(a)).selectAll("*").remove(),!m(d))return;const{nodes:R,links:S}=I(),U=700,rt=700,tt=$t(m(a)).append("svg").attr("width",U).attr("height",rt);tt.append("defs").append("marker").attr("id","arrow").attr("viewBox","-5 -5 10 10").attr("refX",15).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M-5,-5L5,0L-5,5");const ct=tt.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(S).join("line").attr("marker-end","url(#arrow)"),st=tt.append("g").selectAll("g").data(R).join("g").call($d().on("start",At).on("drag",St).on("end",Xt));st.append("circle").attr("r",V=>V.id===v(m(d).nome_curto)?10:6).attr("fill",V=>V.id===v(m(d).nome_curto)?"#0ea5e9":"#38bdf8").attr("stroke","#0c4a6e").on("click",(V,ot)=>x(ot.data)),st.append("text").text(V=>V.data.nome_curto).attr("x",12).attr("y",3).style("font-size","10px").style("pointer-events","none");const ht=tp(R).force("link",Vv(S).id(V=>V.id).distance(100)).force("charge",ep().strength(-200)).force("center",Nv(U/2,rt/2)).on("tick",kt);function kt(){ct.attr("x1",V=>V.source.x).attr("y1",V=>V.source.y).attr("x2",V=>V.target.x).attr("y2",V=>V.target.y),st.attr("transform",V=>`translate(${V.x},${V.y})`)}function At(V,ot){V.active||ht.alphaTarget(.3).restart(),ot.fx=ot.x,ot.fy=ot.y}function St(V,ot){ot.fx=V.x,ot.fy=V.y}function Xt(V,ot){V.active||ht.alphaTarget(0),ot.fx=null,ot.fy=null}}function A(){const R=$t(m(i));R.selectAll("*").remove(),R.attr("viewBox",[0,0,800,450]),R.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","-0 -5 10 10").attr("refX",10).attr("refY",0).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#0ea5e9"),R.append("path").datum(l).attr("fill","#e0f2fe").attr("stroke","#94a3b8").attr("d",s);for(let S=1;S<=m(y);S++){const U=c[S]||[],rt=["#0ea5e9","#38bdf8","#7dd3fc"][S-1]||"#0284c7";U.forEach(tt=>R.append("path").datum({source:o(m(d).coords),target:o(tt.coords)}).attr("fill","none").attr("stroke",rt).attr("stroke-width",1.5).attr("marker-end","url(#arrowhead)").attr("d",ct=>`M${ct.source[0]},${ct.source[1]}L${ct.target[0]},${ct.target[1]}`))}R.append("g").selectAll("circle").data(m(u)).join("circle").attr("r",S=>S===m(d)?7:4).attr("fill",S=>S===m(d)?"#0ea5e9":"#0284c7").attr("stroke","#0c4a6e").attr("cx",S=>o(S.coords)[0]).attr("cy",S=>o(S.coords)[1]).style("cursor","pointer").on("click",(S,U)=>x(U))}ke(async()=>{const R=await bi(n);l=ju(R,R.objects.countries);const U=await bi(r);G(u,U.map(ht=>{const kt=E(ht.data_nascimento),At=parseFloat(ht.lat_nasc),St=parseFloat(ht.lon_nasc);return kt==null||isNaN(At)||isNaN(St)||kt>=0?null:{...ht,coords:[St,At],birthYear:kt}}).filter(Boolean));const rt=m(u).map(ht=>ht.coords[0]),tt=m(u).map(ht=>ht.coords[1]),ct=(Math.min(...rt)+Math.max(...rt))/2,st=(Math.min(...tt)+Math.max(...tt))/2;o=im().scale(300).center([ct,st]).translate([800/2,450/2]),s=to(o),A()}),qe();var q=qm(),j=ur(q),w=O(j),M=O(w),k=O(M);me(k,R=>G(i,R),()=>m(i)),F(M);var C=Y(M),z=O(C);Ct(z);var L=Y(z);{var X=R=>{var S=zm();Pn(S,5,()=>m(_),$n,(U,rt)=>{var tt=Rm(),ct=O(tt,!0);F(tt),Dt(()=>yt(ct,m(rt).nome_curto)),wt("click",tt,()=>x(m(rt))),bt(U,tt)}),F(S),bt(R,S)};Nn(L,R=>{m(g)&&m(_).length&&R(X)})}var H=Y(L,2),B=Y(O(H),2);Ct(B),Ot(B,"max",b);var Q=Y(B,2),W=O(Q),nt=O(W);F(W);var at=Y(W),T=O(at);F(at),F(Q),vo(2),F(H);var K=Y(H,2),Z=O(K);{var Et=R=>{var S=Lm(),U=ur(S),rt=O(U,!0);F(U);var tt=Y(U),ct=Y(O(tt));F(tt);var st=Y(tt);{var ht=ot=>{var Pt=Dm(),It=Y(O(Pt));F(Pt),Dt(()=>yt(It,` ${m(d).data_morte??""} — ${m(d).local_morte??""}`)),bt(ot,Pt)};Nn(st,ot=>{m(d).data_morte&&ot(ht)})}var kt=Y(st),At=Y(O(kt));F(kt);var St=Y(kt),Xt=O(St),V=O(Xt);F(Xt),F(St),Dt(()=>{yt(rt,m(d).nome_completo),yt(ct,` ${m(d).data_nascimento??""} — ${m(d).local_nascimento??""}`),yt(At,` ${m(d).summary??""}`),Ot(Xt,"href",m(d).link),yt(V,`Mais sobre ${m(d).nome_curto??""}`)}),bt(R,S)},it=R=>{var S=Fm();bt(R,S)};Nn(Z,R=>{m(d)?R(Et):R(it,!1)})}F(K),F(C),F(w),F(j);var et=Y(j);return me(et,R=>G(a,R),()=>m(a)),Dt(()=>{yt(nt,`Nível ${m(y)??""}`),yt(T,`${m(f).length??""} matemáticos`)}),Rt(z,()=>m(p),R=>G(p,R)),wt("input",z,()=>{G(_,m(u).filter(R=>R.nome_curto.toLowerCase().includes(m(p).toLowerCase())||R.nome_completo.toLowerCase().includes(m(p).toLowerCase())).slice(0,8)),G(g,!0)}),wt("blur",z,()=>setTimeout(()=>G(g,!1),100)),Rt(B,()=>m(y),R=>G(y,R)),wt("input",B,()=>{$(),A(),D()}),bt(t,q),be({$set:Ye,$on:(R,S)=>Oe(e,R,S)})}var Om=Tt('<img alt="Figura da proposição" class="sidebar-image svelte-77ukne">'),Ym=Tt('<p class="svelte-77ukne"> </p>'),jm=Tt('<p class="placeholder svelte-77ukne">Clique em um nó para ver o texto completo da proposição.</p>'),Hm=Tt('<div class="container svelte-77ukne"><div class="sidebar svelte-77ukne"><div class="sidebar-header svelte-77ukne"><!></div> <div class="sidebar-content svelte-77ukne"><!> <!></div></div> <div class="graph svelte-77ukne"><svg id="svg" class="svelte-77ukne"></svg></div></div>');function Xu(t,e){if(new.target)return je({component:Xu,...t});xe(e,!1);let n=[],r=[],i=J(""),a=J(""),o=J([]);function s(N){const $=Number(N);if(!Number.isInteger($)||$<=0)return"";const I=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],D={1e3:"M",900:"CM",500:"D",400:"CD",100:"C",90:"XC",50:"L",40:"XL",10:"X",9:"IX",5:"V",4:"IV",1:"I"};let A="",q=$;for(const j of I)for(;q>=j;)A+=D[j],q-=j;return A}function u(N){const $={I:1,V:5,X:10,L:50,C:100,D:500,M:1e3};let I=0;for(let D=0;D<N.length;D++){const A=$[N[D]],q=$[N[D+1]];q&&q>A?(I+=q-A,D++):I+=A}return I}function l(N){n=[],r=[];const $=new Map;N.forEach(D=>{const A=D.titulo.trim(),q=A.match(/^[Pp][Rr][Oo][Pp]\.\s*([IVXLCDM]+)\b/i);if(q){const j=q[1].toUpperCase();$.has(j)||($.set(j,A),n.push({id:A,title:D.conteudo,imagens:D.imagens||[]}))}});const I=/\(\s*(?:Prop|PR|Pr|PROP)\.?\s*([IVXLCDM]+|\d+)[^)]*\)/gi;N.forEach(D=>{const A=D.titulo.trim();[...D.conteudo.matchAll(I)].forEach(([j,w])=>{const M=isNaN(w)?w.toUpperCase():s(parseInt(w,10));if($.has(M)){const k=$.get(M);r.push({source:A,target:k})}})})}function c(N,$){const I=N.x,D=N.y,A=$.x,q=$.y,j=N.r,w=$.r,M=N.theta,k=$.theta,z=(j+w)/2+20,X=Math.abs(k-M)>Math.PI?1:0,H=k>M?1:0;return`
      M ${I} ${D}
      A ${z} ${z} 0 ${X} ${H} ${A} ${q}
    `}ke(async()=>{const I=await(await fetch("/final-project-mathemagraphia/data/euclides_livro1.json")).json();I.forEach(T=>{T.conteudo=T.conteudo.replace(/\(\s*Pr\.?\s*(\d+)\s*,\s*1\s*\)/gi,"(Prop. $1)"),T.conteudo=T.conteudo.replace(/\(\s*Pr\.?\s*(\d+)\s+1\s*\)/gi,"(Prop. $1)")}),l(I);const D=new Map;n.forEach(T=>{const K=T.id.match(/([IVXLCDM]+)/);T.num=K?u(K[1]):0,D.set(T.id,T)}),n.sort((T,K)=>T.num-K.num);const j=Math.min(1e3,600)/1.75,w=n.length,M=j/Math.sqrt(w-1),k=Math.PI*(3-Math.sqrt(5));n.forEach((T,K)=>{const Z=M*Math.sqrt(K),Et=K*k;T.r=Z,T.theta=Et,T.x=Z*Math.cos(Et),T.y=Z*Math.sin(Et)});const C=new Map;n.forEach(T=>C.set(T.id,0)),r.forEach(T=>{C.set(T.source,C.get(T.source)+1),C.set(T.target,C.get(T.target)+1)}),n.forEach(T=>{T.deg=C.get(T.id)||0});const z=Ma(n,T=>T.deg),L=qt().domain([0,z]).range([4,12]),X=new Map;n.forEach(T=>X.set(T.id,0)),r.forEach(T=>{X.set(T.source,X.get(T.source)+1)}),n.forEach(T=>{T.out=X.get(T.id)||0});const H=Ma(n,T=>T.out),B=qt().domain([0,H]).range(["#666666","#01FF10"]).interpolate(f0),Q=$t("#svg").attr("viewBox",[-500,-300,1e3,600]).call(Yu().on("zoom",({transform:T})=>{Q.select("g").attr("transform",T)}));Q.append("defs").append("marker").attr("id","arrow").attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill","currentColor");const W=Q.append("g"),nt=ka(0,w,.5).map(T=>{const K=M*Math.sqrt(T),Z=T*k;return[K*Math.cos(Z),K*Math.sin(Z)]}),at=Ke().x(T=>T[0]).y(T=>T[1]).curve(bm);W.append("path").attr("class","espiral-sombra").attr("d",at(nt)).attr("fill","none").attr("stroke","purple").attr("stroke-width",4).attr("stroke-opacity",.15).lower(),W.append("g").attr("class","links").selectAll("path").data(r).enter().append("path").attr("class","link").attr("d",T=>{const K=D.get(T.source),Z=D.get(T.target);return c(K,Z)}).attr("fill","none").attr("stroke","#999").attr("color","#999").attr("stroke-width",1.2).attr("opacity",.05).attr("marker-end","url(#arrow)"),W.append("g").attr("class","nodes").selectAll("circle").data(n).enter().append("circle").attr("cx",T=>T.x).attr("cy",T=>T.y).attr("r",T=>L(T.deg)).attr("fill",T=>B(T.out)).style("cursor","pointer").on("click",(T,K)=>{G(i,K.title),G(a,K.id),G(o,K.imagens||[]),W.selectAll("path.link").attr("stroke",Z=>Z.source===K.id?"red":Z.target===K.id?"blue":"#ccc").attr("color",Z=>Z.source===K.id?"red":Z.target===K.id?"blue":"#ccc").attr("opacity",Z=>Z.source===K.id||Z.target===K.id?1:.05)}).on("mouseover",(T,K)=>{m(a)||W.selectAll("path.link").attr("opacity",Z=>Z.source===K.id||Z.target===K.id?.8:0).attr("stroke-width",Z=>Z.source===K.id||Z.target===K.id?2:1.2)}).on("mouseout",()=>{m(a)||W.selectAll("path.link").attr("opacity",.05).attr("stroke-width",1.2)}),W.append("g").attr("class","labels").selectAll("text").data(n).enter().append("text").text(T=>T.id).attr("x",T=>T.x+8).attr("y",T=>T.y+3).style("font-size","11px").style("fill","#333").style("pointer-events","none"),Q.on("click",T=>{T.target.tagName!=="circle"&&(W.selectAll("path.link").attr("stroke","#999").attr("color","#999").attr("opacity",.05).attr("stroke-width",1.2),G(i,""),G(a,""),G(o,[]))})}),qe();var h=Hm(),f=O(h),d=O(f),p=O(d);{var _=N=>{var $=Yo();Dt(()=>yt($,m(a))),bt(N,$)},g=N=>{var $=Yo("Informação");bt(N,$)};Nn(p,N=>{m(a)?N(_):N(g,!1)})}F(d);var y=Y(d,2),b=O(y);{var E=N=>{var $=jo(),I=ur($);Pn(I,1,()=>m(o),$n,(D,A)=>{var q=Om();Dt(()=>Ot(q,"src",m(A))),bt(D,q)}),bt(N,$)};Nn(b,N=>{m(o).length&&N(E)})}var v=Y(b,2);{var x=N=>{var $=jo(),I=ur($);Pn(I,1,()=>m(i).split(`

`),$n,(D,A)=>{var q=Ym(),j=O(q,!0);F(q),Dt(w=>yt(j,w),[()=>m(A).trim()],jn),bt(D,q)}),bt(N,$)},P=N=>{var $=jm();bt(N,$)};Nn(v,N=>{m(i)?N(x):N(P,!1)})}return F(y),F(f),vo(2),F(h),bt(t,h),be({$set:Ye,$on:(N,$)=>Oe(e,N,$)})}const Bm=t=>t;function Xm(t,{delay:e=0,duration:n=400,easing:r=Bm}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:a=>`opacity: ${a*i}`}}var Vm=Tt("<button> </button>"),Gm=Tt('<div class="param svelte-b7p2hj"><label class="svelte-b7p2hj"> </label> <input type="range" class="svelte-b7p2hj"> <div class="value-display svelte-b7p2hj"> </div></div>'),Um=Tt('<li class="svelte-b7p2hj"> </li>'),Wm=Tt('<div class="container svelte-b7p2hj"><h1 class="svelte-b7p2hj">Guia Interativo de Curvas Matemáticas</h1> <div class="curve-selector svelte-b7p2hj"></div> <div class="content-wrapper svelte-b7p2hj"><div class="graph-section svelte-b7p2hj"><h2 class="svelte-b7p2hj"> </h2> <p> </p> <div id="graph-container" class="svelte-b7p2hj"></div> <div class="params svelte-b7p2hj"></div> <button class="update-btn svelte-b7p2hj"> </button></div> <div class="info-section svelte-b7p2hj"><h2 class="svelte-b7p2hj"> </h2> <div class="description svelte-b7p2hj"> </div> <div class="facts-title svelte-b7p2hj">Curiosidades:</div> <div class="fact svelte-b7p2hj"> </div> <button class="next-fact-btn svelte-b7p2hj">Próxima Curiosidade →</button> <div class="creators-section svelte-b7p2hj"><div class="facts-title svelte-b7p2hj">Principais Nomes:</div> <ul class="svelte-b7p2hj"></ul></div></div></div></div>');function Vu(t,e){if(new.target)return je({component:Vu,...t});xe(e,!1);const n=[{id:1,name:"Senoide",formula:"y = a·sin(b·x + c)",params:[{name:"a",value:1,min:.1,max:3,step:.1,desc:"Amplitude"},{name:"b",value:1,min:.1,max:3,step:.1,desc:"Frequência"},{name:"c",value:0,min:-3,max:3,step:.1,desc:"Fase"}],facts:["Fundamental na acústica - descreve a vibração de cordas e ondas sonoras","Essencial em engenharia elétrica para representar corrente alternada","A forma senoidal aparece no movimento dos pêndulos e em sistemas massa-mola"],description:"A curva senoidal é a representação gráfica da função seno, uma das funções trigonométricas mais importantes. Ela descreve fenômenos periódicos e oscilatórios, sendo fundamental na física, engenharia e processamento de sinais.",creators:["Hiparco de Niceia (190-120 a.C.) - Pai da trigonometria","Leonhard Euler (1707-1783) - Formalizou a relação com números complexos","Joseph Fourier (1768-1830) - Demonstrou que qualquer função periódica pode ser representada por senoides"]},{id:2,name:"Parábola",formula:"y = a·x² + b·x + c",params:[{name:"a",value:.5,min:-2,max:2,step:.1,desc:"Abertura"},{name:"b",value:0,min:-3,max:3,step:.1,desc:"Inclinação"},{name:"c",value:0,min:-5,max:5,step:.1,desc:"Deslocamento vertical"}],facts:["Trajetória de projéteis sob ação da gravidade (desprezando resistência do ar)","Forma ideal para concentrar ondas eletromagnéticas em antenas parabólicas","A propriedade focal é usada em faróis, telescópios e fornos solares"],description:"Curva cônica definida como o lugar geométrico dos pontos equidistantes de um ponto fixo (foco) e uma reta fixa (diretriz). Suas propriedades ópticas e mecânicas a tornam essencial em diversas aplicações tecnológicas.",creators:["Menaechmus (380-320 a.C.) - Primeiro a estudar as cônicas","Apollonius de Perga (262-190 a.C.) - Sistematizou o estudo das cônicas","Galileu Galilei (1564-1642) - Demonstrou que projéteis seguem trajetórias parabólicas"]},{id:3,name:"Espiral de Arquimedes",formula:"r = a + b·θ",params:[{name:"a",value:0,min:0,max:2,step:.1,desc:"Raio inicial"},{name:"b",value:.1,min:0,max:.5,step:.01,desc:"Taxa de expansão"}],facts:["Padrão encontrado em conchas de moluscos como o náutilo","Usada em gramofones antigos para mover a agulha uniformemente","Aplicações modernas incluem compressores scroll e bombas de vácuo"],description:"Espiral que se expande linearmente com o ângulo, mantendo distância constante entre voltas consecutivas. Modela diversos fenômenos naturais e tem aplicações em engenharia mecânica.",creators:["Arquimedes de Siracusa (287-212 a.C.) - Descreveu a espiral em seu trabalho 'Sobre as Espirais'","Jacob Bernoulli (1654-1705) - Estudou espirais logarítmicas relacionadas"]},{id:4,name:"Catenária",formula:"y = a·cosh(x/a)",params:[{name:"a",value:2,min:.5,max:5,step:.1,desc:"Parâmetro de tensão"}],facts:["Forma assumida por uma corrente ou cabo suspenso por suas extremidades","Arcos catenários são estruturalmente estáveis, usados em arquitetura","O Gateway Arch em St. Louis é uma catenária invertida"],description:"Curva formada por uma corrente flexível suspensa por seus extremos e sujeita apenas à gravidade. Difere da parábola e possui propriedades mecânicas únicas que a tornam ideal para pontes suspensas e arcos arquitetônicos.",creators:["Galileu Galilei (1564-1642) - Primeiro a estudar o problema","Christiaan Huygens (1629-1695) - Derivação matemática correta","Robert Hooke (1635-1703) - Descobriu a relação com arcos invertidos"]},{id:5,name:"Lemniscata de Bernoulli",formula:"r² = a²·cos(2θ)",params:[{name:"a",value:4,min:1,max:5,step:.1,desc:"Tamanho da curva"}],facts:["Tem a forma do símbolo do infinito (∞)","Casos especiais aparecem no estudo de campos magnéticos","Usada em óptica para descrever certas aberrações de lentes"],description:"Curva em forma de oito ou símbolo de infinito, que representa o lugar geométrico dos pontos cujo produto das distâncias a dois focos fixos é constante. Nota: a fórmula polar é usada para a plotagem.",creators:["Jacob Bernoulli (1654-1705) - Primeira descrição detalhada","Giovanni Cassini (1625-1712) - Estudou curvas relacionadas (ovais de Cassini)"]},{id:6,name:"Cardioide",formula:"r = a(1 + cosθ)",params:[{name:"a",value:2,min:1,max:4,step:.1,desc:"Tamanho da curva"}],facts:["Forma de um coração (daí o nome)","Padrão de irradiação de certas antenas direcionais","Aparece na caústica formada por luz refletida em uma xícara circular"],description:"Curva epicicloide especial que se assemelha a um coração. Formada pelo traço de um ponto em um círculo que rola sem deslizar em torno de outro círculo de mesmo raio. Tem aplicações em acústica e óptica.",creators:["Johannes Kepler (1571-1630) - Primeiras investigações","Louis Carré (1663-1711) - Estudos detalhados da curva","Philippe de La Hire (1640-1718) - Propriedades geométricas"]},{id:7,name:"Curva de Bézier (Quadrática)",formula:"B(t) = (1-t)²P₀ + 2(1-t)tP₁ + t²P₂",params:[{name:"P0x",value:-8,min:-10,max:10,step:.5,desc:"P₀ X"},{name:"P0y",value:-4,min:-5,max:5,step:.5,desc:"P₀ Y"},{name:"P1x",value:0,min:-10,max:10,step:.5,desc:"P₁ X (Controle)"},{name:"P1y",value:4,min:-5,max:5,step:.5,desc:"P₁ Y (Controle)"},{name:"P2x",value:8,min:-10,max:10,step:.5,desc:"P₂ X"},{name:"P2y",value:-3,min:-5,max:5,step:.5,desc:"P₂ Y"}],facts:["Fundamental em design gráfico e animação por computador","Usada para definir o contorno de fontes (letras)","Permite controle preciso de curvas suaves com poucos pontos de controle","Base para a maioria dos softwares de ilustração vetorial como Adobe Illustrator e Inkscape"],description:"Curva paramétrica amplamente utilizada em computação gráfica. Definida por pontos de controle que ditam sua forma. Esta é uma Bézier quadrática, definida por um ponto inicial (P₀), um ponto final (P₂) e um ponto de controle (P₁).",creators:["Pierre Bézier (1910-1999) - Engenheiro da Renault, popularizou seu uso para design automotivo","Paul de Casteljau (1930-2022) - Desenvolveu um algoritmo similar na Citroën, de forma independente"]},{id:8,name:"Hipocicloide",formula:"x = (a-b)cosθ + b·cos((a-b)/b·θ)",params:[{name:"a",value:5,min:2,max:10,step:.1,desc:"Raio Fixo (a)"},{name:"b",value:2,min:.5,max:5,step:.1,desc:"Raio Rolante (b)"}],facts:["Quando a razão a/b é um inteiro, a curva se fecha e tem 'a/b' pontas (cúspides).","Se a/b = 4, forma-se uma Astroide. Se a/b = 3, uma Deltoide.","Inspirou o design do brinquedo Espirógrafo (Spirograph).","Usada em engenharia mecânica para criar engrenagens planetárias."],description:"Curva traçada por um ponto fixo em um círculo (raio b) que rola por dentro de outro círculo fixo (raio a). Produz uma variedade de curvas em forma de estrela, dependendo da razão entre os raios.",creators:["Albrecht Dürer (1471-1528) - Descreveu métodos para desenhar curvas semelhantes","Ole Rømer (1644-1710) - Fez estudos aplicados em astronomia e engrenagens"]}];let r=J(n[0]),i=J({}),a,o=J(0),s=J(!1),u=600,l=400,c={top:20,right:20,bottom:40,left:50};ke(()=>(a=$t("#graph-container").append("svg").attr("width","100%").attr("height","100%").attr("viewBox",`0 0 ${u} ${l}`).attr("preserveAspectRatio","xMidYMid meet"),f(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)));function h(){const H=document.getElementById("graph-container");H&&(u=H.clientWidth,l=H.clientHeight,f())}function f(H=!1){if(!a||!m(r))return;a.selectAll("*").remove();const B=u-c.left-c.right,Q=l-c.top-c.bottom,W=a.append("g").attr("transform",`translate(${c.left},${c.top})`),nt=qt().domain([-20,20]).range([0,B]),at=qt().domain([-10,10]).range([Q,0]),T=hi(nt).ticks(10).tickSize(-Q).tickPadding(10),K=di(at).ticks(10).tickSize(-B).tickPadding(10);W.append("g").attr("class","x axis").attr("transform",`translate(0, ${at(0)})`).call(T),W.append("g").attr("class","y axis").attr("transform",`translate(${nt(0)}, 0)`).call(K),W.selectAll(".axis .domain").style("stroke","none"),W.selectAll(".axis .tick line").style("stroke","#e9e9e9"),W.selectAll(".axis .tick text").style("fill","#aaa");const Z=Ke().x(it=>nt(it[0])).y(it=>at(it[1]));let Et=[];switch(m(r).id){case 1:case 2:case 4:{const it=[];for(let et=-20;et<=20;et+=.1){let R;m(r).id===1?R=m(i).a*Math.sin(m(i).b*et+m(i).c):m(r).id===2?R=m(i).a*et*et+m(i).b*et+m(i).c:m(r).id===4&&(R=m(i).a*Math.cosh(et/m(i).a)),Math.abs(R)<10&&it.push([et,R])}Et.push(it);break}case 3:case 6:{const it=[],et=m(r).id===6?2*Math.PI:10*Math.PI;for(let R=0;R<=et;R+=.02){let S;m(r).id===3?S=m(i).a+m(i).b*R:S=m(i).a*(1+Math.cos(R)),it.push([S*Math.cos(R),S*Math.sin(R)])}Et.push(it);break}case 5:{const it=[],et=[];for(let R=-Math.PI/4;R<=Math.PI/4;R+=.01){const S=m(i).a*Math.sqrt(Math.cos(2*R));it.push([S*Math.cos(R),S*Math.sin(R)])}for(let R=3*Math.PI/4;R<=5*Math.PI/4;R+=.01){const S=m(i).a*Math.sqrt(Math.cos(2*R));et.push([S*Math.cos(R),S*Math.sin(R)])}Et.push(it,et);break}case 7:{const it={x:m(i).P0x,y:m(i).P0y},et={x:m(i).P1x,y:m(i).P1y},R={x:m(i).P2x,y:m(i).P2y},S=[];for(let U=0;U<=1;U+=.01){const rt=(1-U)*(1-U)*it.x+2*(1-U)*U*et.x+U*U*R.x,tt=(1-U)*(1-U)*it.y+2*(1-U)*U*et.y+U*U*R.y;S.push([rt,tt])}Et.push(S),W.append("line").attr("x1",nt(it.x)).attr("y1",at(it.y)).attr("x2",nt(et.x)).attr("y2",at(et.y)).attr("stroke","rgba(255,0,0,0.5)").attr("stroke-dasharray","4"),W.append("line").attr("x1",nt(et.x)).attr("y1",at(et.y)).attr("x2",nt(R.x)).attr("y2",at(R.y)).attr("stroke","rgba(255,0,0,0.5)").attr("stroke-dasharray","4"),[it,et,R].forEach(U=>{W.append("circle").attr("cx",nt(U.x)).attr("cy",at(U.y)).attr("r",5).attr("fill",U===et?"red":"black")});break}case 8:{const it=[],{a:et,b:R}=m(i);for(let S=0;S<=20*Math.PI;S+=.02){const U=(et-R)*Math.cos(S)+R*Math.cos(S*(et-R)/R),rt=(et-R)*Math.sin(S)-R*Math.sin(S*(et-R)/R);it.push([U,rt])}Et.push(it);break}}W.selectAll("path.line").data(Et).enter().append("path").attr("class","line").attr("d",Z).attr("stroke","#3a86ff").attr("stroke-width",2).attr("fill","none"),H&&a.selectAll("path.line").attr("stroke-dasharray",function(){return this.getTotalLength()}).attr("stroke-dashoffset",function(){return this.getTotalLength()}).transition().duration(1500).ease(yv).attr("stroke-dashoffset",0)}function d(H){const B=H.step.toString();return B.includes(".")?B.split(".")[1].length:0}function p(){G(o,(m(o)+1)%m(r).facts.length)}function _(){G(s,!0),f(!0),setTimeout(()=>G(s,!1),1500)}ii(()=>m(r),()=>{m(r)&&(G(i,{}),m(r).params.forEach(H=>{an(i,m(i)[H.name]=H.value)}),f())}),ii(()=>m(r),()=>{m(r)&&f()}),mo(),qe();var g=Wm(),y=Y(O(g),2);Pn(y,5,()=>n,$n,(H,B)=>{var Q=Vm(),W=O(Q,!0);F(Q),Dt(()=>{af(Q,1,ef(m(r).id===m(B).id?"active":""),"svelte-b7p2hj"),yt(W,m(B).name)}),wt("click",Q,()=>{G(r,m(B)),G(o,0),_()}),bt(H,Q)}),F(y);var b=Y(y,2),E=O(b),v=O(E),x=O(v,!0);F(v);var P=Y(v,2),N=O(P);F(P);var $=Y(P,4);Pn($,5,()=>m(r).params,$n,(H,B)=>{var Q=Gm(),W=O(Q),nt=O(W);F(W);var at=Y(W,2);Ct(at);var T=Y(at,2),K=O(T);F(T),F(Q),Dt(Z=>{Ot(W,"for",m(B).name),yt(nt,`${m(B).desc??""} (${m(B).name??""} = ${Z??""})`),Ot(at,"id",m(B).name),Ot(at,"min",m(B).min),Ot(at,"max",m(B).max),Ot(at,"step",m(B).step),yt(K,`Min: ${m(B).min??""} | Max: ${m(B).max??""}`)},[()=>m(i)[m(B).name].toFixed(d(m(B)))],jn),Rt(at,()=>m(i)[m(B).name],Z=>an(i,m(i)[m(B).name]=Z)),bt(H,Q)}),F($);var I=Y($,2),D=O(I,!0);F(I),F(E);var A=Y(E,2),q=O(A),j=O(q);F(q);var w=Y(q,2),M=O(w,!0);F(w);var k=Y(w,4),C=O(k,!0);F(k);var z=Y(k,2),L=Y(z,2),X=Y(O(L),2);return Pn(X,5,()=>m(r).creators,$n,(H,B)=>{var Q=Um(),W=O(Q,!0);F(Q),Dt(()=>yt(W,m(B))),bt(H,Q)}),F(X),F(L),F(A),F(b),F(g),Dt(()=>{yt(x,m(r).name),yt(N,`Fórmula: ${m(r).formula??""}`),I.disabled=m(s),yt(D,m(s)?"Animando...":"Animar Gráfico"),yt(j,`Sobre a ${m(r).name??""}`),yt(M,m(r).description),yt(C,m(r).facts[m(o)])}),wt("click",I,_),vf(3,k,()=>Xm),wt("click",z,p),bt(t,g),be({$set:Ye,$on:(H,B)=>Oe(e,H,B)})}var Km=Tt('<div class="controls svelte-1wuqv8j"><label style="color:black; margin-right:1rem;">Número de moedas: <select class="svelte-1wuqv8j"><option>1</option><option>2</option><option>5</option></select></label> <button class="svelte-1wuqv8j">Start</button> <button class="svelte-1wuqv8j">Reset</button></div> <div class="chart svelte-1wuqv8j"></div>',1);function Gu(t,e){if(new.target)return je({component:Gu,...t});xe(e,!1);let n=J();const r={top:60,right:40,bottom:60,left:60};let i,a,o,s=[],u={},l,c=J(!1);const h=200,f=500;let d=1;function p(){i=m(n).clientWidth-r.left-r.right,a=m(n).clientHeight-r.top-r.bottom,$t(m(n)).selectAll("*").remove(),o=$t(m(n)).append("svg").attr("width",i+r.left+r.right).attr("height",a+r.top+r.bottom).append("g").attr("transform",`translate(${r.left},${r.top})`),o.append("text").attr("x",i/2).attr("y",-30).attr("text-anchor","middle").style("font-size","1.2rem").style("fill","black").text("Simulação de lançamentos de moedas – proporção de Caras e Coroas"),o.append("g").attr("class","x-axis").attr("transform",`translate(0, ${a})`),o.append("g").attr("class","y-axis");for(let z=0;z<d;z++)o.append("path").attr("class",`line heads-${z}`).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("stroke-dasharray",""),o.append("path").attr("class",`line tails-${z}`).attr("fill","none").attr("stroke","red").attr("stroke-width",2).attr("stroke-dasharray","4 4");const k=o.append("g").attr("class","legend").attr("transform",`translate(${i-120},${-60/2+10})`);[{label:"Caras",stroke:"steelblue",dash:""},{label:"Coroas",stroke:"red",dash:"4 4"}].forEach((z,L)=>{const X=k.append("g").attr("transform",`translate(0, ${L*20})`);X.append("line").attr("x1",0).attr("y1",0).attr("x2",20).attr("y2",0).attr("stroke",z.stroke).attr("stroke-width",2).attr("stroke-dasharray",z.dash),X.append("text").attr("x",25).attr("y",5).text(z.label).style("font-size","0.8rem").style("fill","black")}),o.append("text").attr("class","current-text").attr("x",0).attr("y",a+40).style("font-size","1rem").style("fill","black"),_(),g()}function _(){s=[],u={};for(let k=0;k<d;k++)u[k]={heads:0,tails:0}}function g(){const k=s.length>0?Ma(s,L=>L.step):1,C=qt().domain([1,k]).range([0,i]),z=qt().domain([0,1]).range([a,0]);o.select(".x-axis").call(hi(C).ticks(6).tickFormat(Ve("d"))).selectAll("text").attr("fill","black"),o.select(".y-axis").call(di(z).ticks(5).tickFormat(Ve(".0%"))).selectAll("text").attr("fill","black"),s.forEach((L,X)=>{L.stepIndex=X+1});for(let L=0;L<d;L++){const X=Ke().x(B=>C(B.stepIndex)).y(B=>z(B.headsRatio[L])),H=Ke().x(B=>C(B.stepIndex)).y(B=>z(B.tailsRatio[L]));o.select(`.line.heads-${L}`).datum(s).attr("d",X),o.select(`.line.tails-${L}`).datum(s).attr("d",H)}if(s.length){const L=s[s.length-1];if(d===1){const X=Ve(".1%")(L.headsRatio[0]),H=Ve(".1%")(L.tailsRatio[0]);o.select(".current-text").text(`Proporção atual – Caras: ${X}, Coroas: ${H}`)}else{const X=[];for(let H=0;H<d;H++)X.push(`Moeda ${H+1} – Caras: ${Ve(".1%")(L.headsRatio[H])}, Coroas: ${Ve(".1%")(L.tailsRatio[H])}`);o.select(".current-text").text(X.join(" | "))}}}function y(){const k=(s.length?s[s.length-1].step:0)+1,C=[],z=[];for(let L=0;L<d;L++){const X=Math.random()<.5;u[L][X?"heads":"tails"]++,C[L]=u[L].heads/k,z[L]=u[L].tails/k}s.push({step:k,headsRatio:C,tailsRatio:z}),g(),k>=f&&E()}function b(){m(c)||(G(c,!0),l=setInterval(y,h))}function E(){clearInterval(l),G(c,!1)}function v(){E(),p()}function x(k){d=+k.target.value,p()}ke(()=>(p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p))),qe();var P=Km(),N=ur(P),$=O(N),I=Y(O($)),D=O(I);D.value=D.__value="1";var A=Y(D);A.value=A.__value="2";var q=Y(A);q.value=q.__value="5",F(I),F($);var j=Y($,2),w=Y(j,2);F(N);var M=Y(N,2);return me(M,k=>G(n,k),()=>m(n)),Dt(()=>j.disabled=m(c)),wt("change",I,x),wt("click",j,b),wt("click",w,v),bt(t,P),be({$set:Ye,$on:(k,C)=>Oe(e,k,C)})}var Zm=Tt('<div class="container svelte-1lsdkp7"><div class="chart-block svelte-1lsdkp7"><div class="chart-area svelte-1lsdkp7"><div></div></div> <div class="control-panel svelte-1lsdkp7"><label class="svelte-1lsdkp7">Amplitude <input type="range" min="0.1" max="5" step="0.1"></label> <label class="svelte-1lsdkp7">Frequência <input type="range" min="2" max="8" step="1"></label> <label class="svelte-1lsdkp7">Termos <input type="number" min="5" max="500"></label> <label class="svelte-1lsdkp7"><input type="checkbox"> Mostrar Eixos</label> <button class="svelte-1lsdkp7"> </button></div></div> <div class="chart-block svelte-1lsdkp7"><div class="chart-area svelte-1lsdkp7"><div></div></div> <div class="control-panel svelte-1lsdkp7"><label class="svelte-1lsdkp7">Iterações <input type="range" min="20" max="1000" step="1"></label> <label class="svelte-1lsdkp7">Centro X <input type="range" min="-2" max="2" step="0.01"></label> <label class="svelte-1lsdkp7">Centro Y <input type="range" min="-2" max="2" step="0.01"></label> <label class="svelte-1lsdkp7">Zoom <input type="range" min="1" max="10" step="0.1"></label> <button class="svelte-1lsdkp7"> </button></div></div></div>');function Uu(t,e){if(new.target)return je({component:Uu,...t});xe(e,!1);let n=Ue(e,"weierWidth",12,900),r=Ue(e,"weierHeight",12,600),i=Ue(e,"mandelWidth",12,900),a=Ue(e,"mandelHeight",12,600),o=J(1),s=J(2),u=J(20),l=J(!0),c=J(!1),h,f=J(200),d=20,p=500,_=5,g=J(!1),y=1,b=J(-.5),E=J(0),v=J(1),x=J(),P=J(),N,$;const I={xMin:-2,xMax:1,yMin:-1.5,yMax:1.5};function D(V,ot,Pt=n()*2,It=m(u)){const Nt=ka(0,It).reduce((Vt,he)=>Vt+Math.pow(m(s),-he),0);return ka(V,ot,(ot-V)/Pt).map(Vt=>{let he=0;for(let ee=0;ee<It;ee++)he+=Math.pow(m(s),-ee)*Math.cos(Math.pow(m(s),ee)*Vt);return{x:Vt,y:he*m(o)/Nt}})}function A(){const V=D(-Math.PI,Math.PI),ot=qt().domain([-Math.PI,Math.PI]).range([0,n()]),Pt=qt().domain(Ir(V,Nt=>Nt.y)).range([r(),0]);m(l)?($.select(".x-axis").call(hi(ot).ticks(8)),$.select(".y-axis").call(di(Pt).ticks(6))):$.selectAll(".x-axis, .y-axis").selectAll("*").remove();const It=Ke().x(Nt=>ot(Nt.x)).y(Nt=>Pt(Nt.y));$.select(".weier-path").datum(V).attr("d",It)}function q(){const ot=Math.floor(m(u)/5)||1,Pt=Lu(nr);$.selectAll(".partial-sum").remove();for(let It=ot;It<=m(u);It+=ot){const Nt=D(-Math.PI,Math.PI,n()*2,It);$.append("path").datum(Nt).attr("class","partial-sum").attr("d",Ke().x(Vt=>qt().domain([-Math.PI,Math.PI]).range([0,n()])(Vt.x)).y(Vt=>qt().domain(Ir(Nt,he=>he.y)).range([r(),0])(Vt.y))).attr("stroke",Pt(It)).attr("fill","none").attr("stroke-width",1).attr("opacity",.6)}}function j(){const ot=$t(m(P)).selectAll("canvas").data([null]).join("canvas").attr("width",i()).attr("height",a()).classed("mandel-canvas",!0).node().getContext("2d"),Pt=ot.createImageData(i(),a()),It=(I.xMax-I.xMin)/m(v),Nt=(I.yMax-I.yMin)/m(v),Vt=m(b)-It/2,he=m(E)-Nt/2;for(let ee=0;ee<i();ee++)for(let en=0;en<a();en++){const Sr=Vt+ee/i()*It,Nr=he+en/a()*Nt;let yn=0,wn=0,$r=0;for(;yn*yn+wn*wn<=4&&$r<m(f);){const Qu=yn*yn-wn*wn+Sr;wn=2*yn*wn+Nr,yn=Qu,$r++}const Zu=$r===m(f)?0:255-Math.floor(255*$r/m(f)),Pr=(en*i()+ee)*4;Pt.data[Pr]=Pt.data[Pr+1]=Pt.data[Pr+2]=Zu,Pt.data[Pr+3]=255}ot.putImageData(Pt,0,0)}function w(){G(g,!m(g))}function M(){G(c,!m(c)),m(c)?h=setInterval(()=>{m(u)<500?(G(u,m(u)+5),A(),q()):(clearInterval(h),G(c,!1))},200):clearInterval(h)}ke(()=>{const V={top:40,right:20,bottom:50,left:60};N=$t(m(x)).append("svg").attr("width",n()+V.left+V.right).attr("height",r()+V.top+V.bottom).style("background","#fff").style("box-shadow","0 2px 8px rgba(0,0,0,0.1)").call(Yu().scaleExtent([1,100]).on("zoom",({transform:ot})=>{const Pt=ot.rescaleX(qt().domain([-Math.PI,Math.PI]).range([0,n()])),It=ot.rescaleY(qt().domain(Ir(D(-Math.PI,Math.PI),Nt=>Nt.y)).range([r(),0]));$.select(".x-axis").call(hi(Pt)),$.select(".y-axis").call(di(It)),$.select(".weier-path").attr("d",Ke().x(Nt=>ot.applyX(qt().domain([-Math.PI,Math.PI]).range([0,n()])(Nt.x))).y(Nt=>ot.applyY(qt().domain(Ir(D(-Math.PI,Math.PI),Vt=>Vt.y)).range([r(),0])(Nt.y)))(D(-Math.PI,Math.PI)))})),N.append("text").attr("x",V.left).attr("y",24).style("font-size","1.3rem").style("font-weight","600").text("Função de Weierstrass – Fractal (1872)"),$=N.append("g").attr("transform",`translate(${V.left},${V.top})`),$.append("g").attr("class","x-axis").attr("transform",`translate(0,${r()})`),$.append("g").attr("class","y-axis"),$.append("path").attr("class","weier-path").attr("fill","none").attr("stroke","#007acc").attr("stroke-width",2),A(),q(),j(),setInterval(()=>{m(g)&&(G(f,m(f)+y*_),(m(f)>=p||m(f)<=d)&&(y*=-1),j())},500)}),qe();var k=Zm(),C=O(k),z=O(C),L=O(z);me(L,V=>G(x,V),()=>m(x)),F(z);var X=Y(z,2),H=O(X),B=Y(O(H));Ct(B),F(H);var Q=Y(H,2),W=Y(O(Q));Ct(W),F(Q);var nt=Y(Q,2),at=Y(O(nt));Ct(at),F(nt);var T=Y(nt,2),K=O(T);Ct(K),vo(),F(T);var Z=Y(T,2),Et=O(Z,!0);F(Z),F(X),F(C);var it=Y(C,2),et=O(it),R=O(et);me(R,V=>G(P,V),()=>m(P)),F(et);var S=Y(et,2),U=O(S),rt=Y(O(U));Ct(rt),F(U);var tt=Y(U,2),ct=Y(O(tt));Ct(ct),F(tt);var st=Y(tt,2),ht=Y(O(st));Ct(ht),F(st);var kt=Y(st,2),At=Y(O(kt));Ct(At),F(kt);var St=Y(kt,2),Xt=O(St,!0);return F(St),F(S),F(it),F(k),Dt(()=>{yt(Et,m(c)?"Parar Animação":"Animação dos Termos"),yt(Xt,m(g)?"Parar Animação":"Animar Iterações")}),Rt(B,()=>m(o),V=>G(o,V)),wt("input",B,()=>{A(),q()}),Rt(W,()=>m(s),V=>G(s,V)),wt("input",W,()=>{A(),q()}),Rt(at,()=>m(u),V=>G(u,V)),wt("input",at,()=>{A(),q()}),pf(K,()=>m(l),V=>G(l,V)),wt("change",K,()=>A()),wt("click",Z,M),Rt(rt,()=>m(f),V=>G(f,V)),wt("input",rt,()=>j()),Rt(ct,()=>m(b),V=>G(b,V)),wt("input",ct,()=>j()),Rt(ht,()=>m(E),V=>G(E,V)),wt("input",ht,()=>j()),Rt(At,()=>m(v),V=>G(v,V)),wt("input",At,()=>j()),wt("click",St,w),bt(t,k),be({get weierWidth(){return n()},set weierWidth(V){n(V),Ce()},get weierHeight(){return r()},set weierHeight(V){r(V),Ce()},get mandelWidth(){return i()},set mandelWidth(V){i(V),Ce()},get mandelHeight(){return a()},set mandelHeight(V){a(V),Ce()},$set:Ye,$on:(V,ot)=>Oe(e,V,ot)})}var Qm=Tt('<div style="width:800px;margin:auto;color:#222;font-family:sans-serif;"><h2>Experimento de Pêndulos Duplos Caóticos</h2> <p>Este experimento foi originalmente desenvolvido por físicos clássicos para estudar sistemas dinâmicos não-lineares.<br> Usado em laboratórios de mecânica, demonstra como pequenas diferenças nas condições iniciais levam a trajetórias divergentes.<br> Ajuste o número de pêndulos, parâmetros e observe cada par de discos coloridos começando equidistantes!</p> <svg id="pendulum-svg"></svg> <div style="margin:20px 0;display:flex;flex-wrap:wrap;justify-content:space-around;color:#222;"><div><label>Número de pêndulos: <input type="number" min="1" class="svelte-kx9e4m"></label></div> <div><label>Comprimento 1: <input type="range" min="50" max="300" class="svelte-kx9e4m"></label></div> <div><label>Comprimento 2: <input type="range" min="50" max="300" class="svelte-kx9e4m"></label></div> <div><label>Gravidade: <input type="range" min="0.1" max="10" step="0.1" class="svelte-kx9e4m"></label></div> <div><label>Δt: <input type="range" min="0.001" max="0.05" step="0.001" class="svelte-kx9e4m"></label></div> <div><label>Passos/quadro: <input type="range" min="1" max="10" class="svelte-kx9e4m"></label></div> <div><label>Trajetória máx.: <input type="range" min="100" max="5000" step="100" class="svelte-kx9e4m"></label></div> <div><label>Offset inicial: <input type="range" min="0.001" max="0.1" step="0.001" class="svelte-kx9e4m"></label></div></div> <div style="text-align:center;"><button class="svelte-kx9e4m">Definir Iniciais</button> <button style="margin-left:10px;" class="svelte-kx9e4m">Reiniciar</button></div></div>');function Wu(t,e){if(new.target)return je({component:Wu,...t});xe(e,!1);const n=800,r=600,i={length1:200,length2:200,mass1:10,mass2:10,gravity:1,dt:.02,a1:Math.PI/4,a2:Math.PI/3,stepsPerFrame:3,maxTraj:2e3,delta:.01,maxPendulums:5};let a=J(1),o=J(i.length1),s=J(i.length2),u=J(i.gravity),l=J(i.dt),c=J(i.stepsPerFrame),h=J(i.maxTraj),f=J(i.delta),d=[],p=J(),_,g=[],y=[],b=[];function E(){d=[],g.forEach(S=>S.remove()),y.forEach(S=>S.remove()),b.forEach(S=>S.remove()),g=[],y=[],b=[];for(let S=0;S<m(a);S++){const U=(S-(m(a)-1)/2)*m(f);d.push({a1:i.a1+U,a2:i.a2+U,a1_v:0,a2_v:0,traj:[],color:nr[S%10]}),g[S]=m(p).append("path").attr("fill","none").attr("stroke",nr[S%10]).attr("stroke-width",1).attr("opacity",.7),y[S]=m(p).append("circle").attr("r",i.mass1).attr("fill",nr[S%10]).attr("opacity",.9),b[S]=m(p).append("circle").attr("r",i.mass2).attr("fill",nr[S%10]).attr("opacity",.9)}}function v(S){const U=i.mass1,rt=i.mass2,tt=m(o),ct=m(s),st=m(u),ht=-st*(2*U+rt)*Math.sin(S.a1),kt=-10*st*Math.sin(S.a1-2*S.a2),At=-2*Math.sin(S.a1-S.a2)*rt,St=S.a2_v*S.a2_v*ct+S.a1_v*S.a1_v*tt*Math.cos(S.a1-S.a2),Xt=tt*(2*U+rt-rt*Math.cos(2*S.a1-2*S.a2)),V=(ht+kt+At*St)/Xt,ot=2*Math.sin(S.a1-S.a2),Pt=S.a1_v*S.a1_v*tt*(U+rt),It=st*(U+rt)*Math.cos(S.a1),Nt=S.a2_v*S.a2_v*ct*rt*Math.cos(S.a1-S.a2),Vt=ct*(2*U+rt-rt*Math.cos(2*S.a1-2*S.a2)),he=ot*(Pt+It+Nt)/Vt;S.a1_v+=V*m(l),S.a2_v+=he*m(l),S.a1+=S.a1_v*m(l),S.a2+=S.a2_v*m(l);const ee=n/2+tt*Math.sin(S.a1),en=100+tt*Math.cos(S.a1),Sr=ee+ct*Math.sin(S.a2),Nr=en+ct*Math.cos(S.a2);return S.traj.push([Sr,Nr]),S.traj.length>m(h)&&S.traj.shift(),{x1:ee,y1:en,x2:Sr,y2:Nr}}ke(()=>{G(p,$t("#pendulum-svg").attr("width",n).attr("height",r).style("background","#fff")),_=m(p).append("g"),E(),Ar(()=>{_.selectAll("*").remove(),d.forEach((S,U)=>{let rt;for(let kt=0;kt<m(c);kt++)rt=v(S);if(!rt)return;const{x1:tt,y1:ct,x2:st,y2:ht}=rt;_.append("line").attr("x1",n/2).attr("y1",100).attr("x2",tt).attr("y2",ct).attr("stroke","#333").attr("stroke-width",1),_.append("line").attr("x1",tt).attr("y1",ct).attr("x2",st).attr("y2",ht).attr("stroke","#333").attr("stroke-width",1),y[U].attr("cx",tt).attr("cy",ct),b[U].attr("cx",st).attr("cy",ht),g[U].attr("d",Ke()(S.traj))})})}),ii(()=>(m(p),m(a)),()=>{m(p)&&m(a)&&E()}),mo(),qe();var x=Qm(),P=Y(O(x),6),N=O(P),$=O(N),I=Y(O($));Ct(I),F($),F(N);var D=Y(N,2),A=O(D),q=Y(O(A));Ct(q),F(A),F(D);var j=Y(D,2),w=O(j),M=Y(O(w));Ct(M),F(w),F(j);var k=Y(j,2),C=O(k),z=Y(O(C));Ct(z),F(C),F(k);var L=Y(k,2),X=O(L),H=Y(O(X));Ct(H),F(X),F(L);var B=Y(L,2),Q=O(B),W=Y(O(Q));Ct(W),F(Q),F(B);var nt=Y(B,2),at=O(nt),T=Y(O(at));Ct(T),F(at),F(nt);var K=Y(nt,2),Z=O(K),Et=Y(O(Z));Ct(Et),F(Z),F(K),F(P);var it=Y(P,2),et=O(it),R=Y(et,2);return F(it),F(x),Dt(()=>Ot(I,"max",i.maxPendulums)),Rt(I,()=>m(a),S=>G(a,S)),Rt(q,()=>m(o),S=>G(o,S)),Rt(M,()=>m(s),S=>G(s,S)),Rt(z,()=>m(u),S=>G(u,S)),Rt(H,()=>m(l),S=>G(l,S)),Rt(W,()=>m(c),S=>G(c,S)),Rt(T,()=>m(h),S=>G(h,S)),Rt(Et,()=>m(f),S=>G(f,S)),wt("click",et,()=>E()),wt("click",R,()=>E()),bt(t,x),be({$set:Ye,$on:(S,U)=>Oe(e,S,U)})}var Jm=Tt('<div class="timer-track svelte-84yb65"><div class="timer-display-sticky-wrapper svelte-84yb65"><div class="timer-value svelte-84yb65"> </div> <div class="timeline-bar-container svelte-84yb65"><div class="timeline-bar-progress svelte-84yb65"></div></div></div></div>');function rr(t,e){if(new.target)return je({component:rr,...t});xe(e,!1);let n=Ue(e,"startYear",12),r=Ue(e,"endYear",12),i=Ue(e,"scrollDuration",12,200),a=Ue(e,"pauseAtEnd",12,0),o=J(n()),s=J(),u=J(0);ke(()=>{}),ii(()=>(m(s),m(u),Vr(a()),Vr(n()),Vr(r())),()=>{if(m(s)){const _=m(s).getBoundingClientRect().top+m(u),g=m(s).offsetHeight;if(g>0){const b=m(u)+window.innerHeight/2-_,E=g*(1-a());let v=0;E>0&&(v=b/E);const x=Math.max(0,Math.min(1,v));G(o,n()+x*(r()-n()))}}}),mo(),qe();var l=Jm(),c=O(l),h=O(c),f=O(h,!0);F(h);var d=Y(h,2),p=O(d);return F(d),F(c),F(l),me(l,_=>G(s,_),()=>m(s)),Dt((_,g)=>{Bo(l,`height: ${i()??""}vh;`),yt(f,_),Bo(p,`width: ${g??""}%`)},[()=>Math.round(m(o)),()=>Math.max(0,Math.min(100,(m(o)-n())/(r()-n())*100))],jn),mf("y",()=>m(u),_=>G(u,_)),bt(t,l),be({get startYear(){return n()},set startYear(_){n(_),Ce()},get endYear(){return r()},set endYear(_){r(_),Ce()},get scrollDuration(){return i()},set scrollDuration(_){i(_),Ce()},get pauseAtEnd(){return a()},set pauseAtEnd(_){a(_),Ce()},$set:Ye,$on:(_,g)=>Oe(e,_,g)})}var tg=Tt(`<main class="svelte-1ggpus"><!> <!> <div class="interstitial-section svelte-1ggpus"><h2 class="svelte-1ggpus">Era Antiga (c. 300 a.C.)</h2> <p class="svelte-1ggpus">A geometria floresce com Euclides de Alexandria. Seus "Elementos" estabelecem os
      fundamentos da geometria que seriam a base do pensamento matemático por mais de
      dois milênios.</p></div> <div id="euclid-section"><!> <!></div> <div class="interstitial-section svelte-1ggpus"><h2 class="svelte-1ggpus">A Revolução das Curvas (Séc. XVII - XIX)</h2> <p class="svelte-1ggpus">Matemáticos como Descartes, Newton e Leibniz introduzem o cálculo e a geometria
      analítica, transformando curvas em equações dinâmicas.</p></div> <div id="curves-section"><!> <!></div> <div class="interstitial-section svelte-1ggpus" id="probability-section"><h2 class="svelte-1ggpus">A Era da Probabilidade</h2> <p class="svelte-1ggpus">Curiosidade sobre dados e moedas levou ao nascimento dos métodos que hoje fundamentam
      estatística, seguros e análise de risco.</p></div> <div id="probability-simulation"><!> <!></div> <div class="interstitial-section svelte-1ggpus" id="weierstrass-section"><h2 class="svelte-1ggpus">Desenvolvimento da Análise Real e Geometria Fractal</h2> <p class="svelte-1ggpus">Weierstrass foi um grande matemático do séc. XIX que fez diversas contribuições a Análise Real.
      A função que leva o seu nome é contínua em todos os pontos, mas não diferenciável em nenhum,
      antecipando conceitos de Geometria Fractal.</p></div> <div id="weierstrass-plot"><!> <!></div> <div class="interstitial-section svelte-1ggpus" id="dynamic-intro"><h2 class="svelte-1ggpus">Sistemas Dinâmicos</h2> <p class="svelte-1ggpus">Sistemas Dinâmicos estudam como estados evoluem no tempo segundo regras matemáticas.
      Modelos como o Atrator de Lorenz revelam comportamentos complexos e sensíveis às condições iniciais.</p></div> <div id="dynamic-visualization"><!></div></main>`);function Ku(t,e){if(new.target)return je({component:Ku,...t});xe(e,!1);let n=J();ke(()=>{const v=document.getElementById("euclid-section"),x=document.getElementById("curves-section");if(!v||!x)return;const P={root:null,threshold:.1},N=new IntersectionObserver(A=>{A.forEach(q=>{q.isIntersecting?(m(n).classList.add("show-columns"),document.body.classList.add("euclid-bg-active")):(m(n).classList.remove("show-columns"),document.body.classList.remove("euclid-bg-active"))})},P),$=new IntersectionObserver(A=>{A.forEach(q=>{q.isIntersecting?document.body.classList.add("curves-bg-active"):document.body.classList.remove("curves-bg-active")})},P),I=new IntersectionObserver(A=>{A.forEach(q=>{q.isIntersecting?document.body.classList.add("prob-bg-active"):document.body.classList.remove("prob-bg-active")})},{root:null,threshold:.1}),D=new IntersectionObserver(A=>{A.forEach(q=>{q.isIntersecting?document.body.classList.add("weierstrass-bg-active"):document.body.classList.remove("weierstrass-bg-active")})},{threshold:.1});return N.observe(v),$.observe(x),I.observe(document.getElementById("probability-section")),D.observe(document.getElementById("weierstrass-section")),()=>{N.disconnect(),$.disconnect(),I.disconnect(),D.disconnect()}}),qe();var r=tg(),i=O(r);Hu(i,{});var a=Y(i,2);Bu(a,{});var o=Y(a,4),s=O(o);Xu(s,{});var u=Y(s,2);rr(u,{startYear:-300,endYear:1637,scrollDuration:150}),F(o);var l=Y(o,4),c=O(l);Vu(c,{});var h=Y(c,2);rr(h,{startYear:1637,endYear:1812,scrollDuration:150}),F(l);var f=Y(l,4),d=O(f);Gu(d,{});var p=Y(d,2);rr(p,{startYear:1812,endYear:1872,scrollDuration:100}),F(f);var _=Y(f,4),g=O(_);Uu(g,{width:800,height:300});var y=Y(g,2);rr(y,{startYear:1872,endYear:1963,scrollDuration:200}),F(_);var b=Y(_,4),E=O(b);return Wu(E,{}),F(b),F(r),me(r,v=>G(n,v),()=>m(n)),bt(t,r),be({$set:Ye,$on:(v,x)=>Oe(e,v,x)})}yo(Ku,{target:document.getElementById("app")});
